---
title: "Module 3 - Plan d'apprentissage"
subtitle: "STT-1100 Introduction √† la science des donn√©es"
format:
  html:
    toc: true
    toc-title: Plan
    self-contained: true
    link-external-newwindow: true
#    number-sections: true
    css: [../css/base_css.css]
editor: visual
---

# Objectifs du module

√Ä la fin de ce module, vous devriez √™tre capable de

# Lectures initiales

## üìò Lectures √† faire avant l‚Äôaventure

Dans ce module, nous allons explorer les variables **cat√©goriques** et la **visualisation adapt√©e** √† ce type de donn√©es. Deux lectures sont propos√©es pour vous pr√©parer :

-   [**R for Data Science ‚Äì Strings**](https://r4ds.hadley.nz/strings.html){target="_blank"}\
    Ce chapitre vous introduit √† la manipulation des cha√Ænes de caract√®res avec le package `stringr`.\
    \> üìù **Note** : Bien que ce chapitre soit plus largement utilis√© au module 4, certaines fonctions utiles comme `str_detect()` ou `str_to_lower()` peuvent d√©j√† vous aider pour nettoyer ou pr√©parer des variables cat√©goriques.

-   [**Introduction to Modern Statistics ‚Äì Chapitre 6 : Explore categorical data**](https://openintro-ims.netlify.app/explore-categorical){target="_blank"}\
    Ce chapitre de **IMS** pr√©sente les concepts statistiques associ√©s aux donn√©es cat√©goriques. On y parle notamment de tableaux de fr√©quence, de proportions et des fa√ßons de repr√©senter visuellement ce type de variables.

Prenez le temps de parcourir ces deux ressources. Elles vous seront utiles pour comprendre comment traiter les **donn√©es qualitatives**, tant du point de vue **statistique** que **pratique**.

# Aventure

[Aventure 3](https://sitescours.monportail.ulaval.ca/contenu/sitescours/036/03609/202509/site177541/modules1395096/module1745726/page4738675/bloccontenu5037472/Aventure%203.html?identifiant=0278d4344021ebee7ae2a5e2f025152db9866727)

# D√©fi

Au terme de ce module, **vous endosserez le r√¥le de journaliste de donn√©es** pour *Le Courrier Gourmand*.\
Votre mission :

1.  **Explorer et nettoyer** le jeu `listecondamnation` (infractions alimentaires au Qu√©bec).\
2.  **Extraire des faits marquants** (top infractions, montants d‚Äôamendes, comparaison Montr√©al / hors-Montr√©al).\
3.  **Illustrer vos analyses** par au moins **deux visuels** (un graphique de cat√©gories + la carte des amendes).\
4.  **R√©diger un article Quarto (HTML)** clair et accrocheur : chapeau ‚ûú contexte ‚ûú m√©thodologie ‚ûú r√©sultats ‚ûú recommandations.\
5.  **Citer deux chiffres narratifs** et **int√©grer une courte citation d‚ÄôAlexandre** pour humaniser la conclusion.

> **√Ä remettre** : le fichier `.qmd` et le HTML g√©n√©r√©, livr√©s via votre d√©p√¥t GitHub avant la date limite.

## üìù Grille d'√©valuation

Votre article sera √©valu√© selon les crit√®res suivants. Assurez-vous de bien respecter le canevas fourni et les consignes donn√©es.

| Crit√®re                                                                 | Excellent (3) | Satisfaisant (2) | √Ä am√©liorer (1) | Commentaire |
|------------------------------------------------------------------------|----------------|------------------|------------------|-------------|
| **üì∞ Chapeau introductif**                                              | Accroche percutante, angle clair, chiffres cl√©s bien choisis | Pr√©sent mais peu engageant ou peu clair | Absent ou tr√®s vague | |
| **üìä Contexte & pr√©sentation des donn√©es**                             | Source bien identifi√©e, pertinence expliqu√©e, limites √©voqu√©es | Contexte partiel ou explication sommaire | Source absente ou non justifi√©e | |
| **üß™ M√©thodologie (section sans code)**                                | D√©marche bien r√©sum√©e, claire et logique | Pr√©sente mais confuse ou trop technique | Absente ou tr√®s floue | |
| **üìà R√©sultat cl√© #1 (graphique + interpr√©tation)**                    | Visuel clair, bonne interpr√©tation, apport analytique √©vident | Visuel ou commentaire peu approfondi | Visuel ou analyse absente | |
| **üìä R√©sultat cl√© #2 (graphique + interpr√©tation)**                    | Visuel pertinent, insight bien formul√© | Visuel correct mais analyse faible | R√©sultat peu exploit√© ou manquant | |
| **üìâ R√©sultat cl√© #3 (graphique + interpr√©tation)**                    | R√©sultat original ou compl√©mentaire, bien expliqu√© | Pr√©sent mais peu d√©velopp√© | Manquant ou superficiel | |
| **üß† Discussion (section 4)**                                          | R√©flexion critique, mise en perspective des r√©sultats | Discussion partielle ou descriptive | Discussion absente ou sans valeur ajout√©e | |
| **‚úÖ Conclusion & recommandations**                                    | Messages d‚Äôaction clairs, utiles, bien formul√©s | Messages pr√©sents mais peu convaincants | Peu clairs ou hors sujet | |
| **üó£Ô∏è Chiffres narratifs + citation d‚ÄôAlexandre**                       | Deux chiffres bien choisis + citation bien int√©gr√©e | Un des √©l√©ments pr√©sent seulement | Aucun ou mal int√©gr√© | |
| **üìÇ Qualit√© du rendu (Quarto + d√©p√¥t GitHub)**                        | `.qmd` fonctionnel, HTML lisible, d√©p√¥t propre et complet | Quelques probl√®mes techniques ou d√©p√¥t d√©sorganis√© | Ex√©cution impossible ou rendu partiel/absent | |

---

üßÆ **Total sur 30 points** : `XX / 30`

> ‚úçÔ∏è *N‚Äôoubliez pas de relire la checklist en fin de template avant de publier votre article.*


# Exercices de consolidation

```{r warning=FALSE, message=FALSE}
# Charger les librairies n√©cessaires
library(tidyverse)
library(stringr)
```

------------------------------------------------------------------------

### ‚ùì Exercice 1 ‚Äì Identifier les variables cat√©goriques

Voici un petit jeu de donn√©es :

```{r}
data <- tibble::tibble(
  sexe = c("Homme", "Femme", "Femme", "Homme", "Homme"),
  age = c(25, 32, 29, 40, 23),
  r√©gion = c("Est", "Ouest", "Est", "Nord", "Sud")
)
```

> Parmi les trois variables ci-dessus, lesquelles sont cat√©gorielles ?

::: {.callout-note collapse="true"}
### ‚úÖ R√©ponse

Les variables `sexe` et `r√©gion` sont **cat√©gorielles**. `age` est **num√©rique**.
:::

------------------------------------------------------------------------

### ‚ùì Exercice 2 ‚Äì Tableau de fr√©quence

Cr√©e un tableau de fr√©quence pour la variable `sexe`.

::: {.callout-tip collapse="true"}
### üí° Piste

Utilise `count()` du package `dplyr`.
:::

::: {.callout-note collapse="true"}
### ‚úÖ Solution

```{r}
data %>% count(sexe)
```
:::

------------------------------------------------------------------------

### ‚ùì Exercice 3 ‚Äì Proportions

Calcule les pourcentages pour chaque modalit√© de la variable `r√©gion`.

::: {.callout-tip collapse="true"}
### üí° Piste

Ajoute une colonne avec `mutate(n / sum(n))`.
:::

::: {.callout-note collapse="true"}
### ‚úÖ Solution

```{r}
data %>% count(r√©gion) %>% mutate(pourcentage = n / sum(n) * 100)
```
:::

------------------------------------------------------------------------

### ‚ùì Exercice 4 ‚Äì Barplot d'une variable cat√©gorielle

Fais un barplot repr√©sentant la variable `r√©gion`.

::: {.callout-tip collapse="true"}
### üí° Piste

Utilise `geom_bar()` avec `aes(x = r√©gion)`.
:::

::: {.callout-note collapse="true"}
### ‚úÖ Solution

```{r}
ggplot(data, aes(x = r√©gion)) + geom_bar()
```
:::

------------------------------------------------------------------------

### ‚ùì Exercice 5 ‚Äì Comparaison de deux variables cat√©gorielles

Ajoute une couleur par `sexe` dans le graphique pr√©c√©dent.

::: {.callout-note collapse="true"}
### ‚úÖ Solution

```{r}
ggplot(data, aes(x = r√©gion, fill = sexe)) + geom_bar(position = "dodge")
```
:::

------------------------------------------------------------------------

### ‚ùì Exercice 6 ‚Äì Nettoyer une variable cat√©gorielle

Voici une variable cat√©gorielle incoh√©rente :

```{r}
reponses <- c("Oui", "oui", "Non", "non", "OUI", "NON")
```

Nettoie cette variable pour que toutes les r√©ponses soient en minuscules **et sans doublons**.

::: {.callout-note collapse="true"}
### ‚úÖ Solution

```{r}
unique(str_to_lower(reponses))
```
:::

------------------------------------------------------------------------

### ‚ùì Exercice 7 ‚Äì Tableau crois√©

Voici un autre jeu de donn√©es :

```{r}
data2 <- tibble(
  fumeur = c("Oui", "Non", "Non", "Oui", "Oui", "Non", "Non"),
  sport = c("Oui", "Oui", "Non", "Non", "Oui", "Non", "Non")
)
```

Cr√©e un tableau crois√© (contingence) entre les deux variables.

::: {.callout-note collapse="true"}
### ‚úÖ Solution

```{r}
data2 %>% count(fumeur, sport) %>% pivot_wider(names_from = sport, values_from = n, values_fill = 0)
```
:::

------------------------------------------------------------------------

### ‚ùì Exercice 8 ‚Äì Pour aller plus loin : Mosaic plot

Utilise le package `ggplot2` (ou `ggmosaic` si disponible) pour repr√©senter visuellement la relation entre `fumeur` et `sport`.

::: {.callout-note collapse="true"}
### ‚úÖ Solution avec ggplot2

```{r}
# En regroupant en barres group√©es pour une approximation
ggplot(data2, aes(x = fumeur, fill = sport)) +
  geom_bar(position = "fill") +
  ylab("Proportion")
```
:::

------------------------------------------------------------------------

## üì¶ Probl√®mes

### üêß Exercice 9 ‚Äì Palmer Penguins

On utilise le jeu de donn√©es `penguins` du package `palmerpenguins`.

-   Variable cat√©gorielle : `species`, `island`, `sex`
-   Variable num√©rique : `flipper_length_mm`, `body_mass_g`

Questions : 1. Cr√©e un tableau de fr√©quence pour `species` 2. Visualise la distribution des esp√®ces par √Æle 3. Compare les sexes pour chaque esp√®ce

::: {.callout-note collapse="true"}
### ‚úÖ Solution

```{r}
library(palmerpenguins)

penguins %>% count(species)

ggplot(penguins, aes(x = island, fill = species)) + geom_bar(position = "dodge")

ggplot(penguins, aes(x = species, fill = sex)) + geom_bar(position = "fill")
```
:::

------------------------------------------------------------------------

### üöå Exercice 10 ‚Äì Donn√©es Titanic

Utilise `titanic::titanic_train`

Variables cat√©goriques : `Sex`, `Embarked`, `Survived`

Questions : 1. Tableau crois√© entre `Sex` et `Survived` 2. Proportion de survie par port d‚Äôembarquement (`Embarked`) 3. Repr√©sentation graphique crois√©e `Sex` √ó `Embarked` √ó `Survived`

::: {.callout-note collapse="true"}
### ‚úÖ Solution

```{r}
library(titanic)
titanic_train <- titanic::titanic_train

titanic_train %>% count(Sex, Survived)

titanic_train %>% count(Embarked, Survived) %>%
  group_by(Embarked) %>% mutate(p = n / sum(n))

ggplot(titanic_train, aes(x = Embarked, fill = factor(Survived))) +
  geom_bar(position = "fill") +
  facet_wrap(~Sex)
```
:::
