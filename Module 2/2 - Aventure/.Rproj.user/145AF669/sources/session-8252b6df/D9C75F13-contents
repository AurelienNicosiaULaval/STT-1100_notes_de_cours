---
title: "Quoi de neuf dans les outils en sciences des donnÃ©es ?"
author: "AurÃ©lien Nicosia"
date: "2025-05-15"
format:
  revealjs:
    theme: solarized
    transition: slide
    slide-number: true
execute:
  echo: true
editor: 
  markdown: 
    wrap: 72
---

# Introduction

## Qui suisâ€‘jeÂ ?

-   ChargÃ© d'enseignementâ€¯en **statistique & science des donnÃ©es** Ã 
    lâ€™UniversitÃ©â€¯Laval.

-   PassionnÃ© de sciences des donnÃ©es!

## Contexte

-   **PassionnÃ© par lâ€™Ã©cosystÃ¨me R**, je suis en permanence les annonces
    sur LinkedIn, Posit Blog et R-Bloggers.\
-   Ã€ chaque nouveautÃ©, je lâ€™ajoute Ã  ma *todo* Â« Ã  tester Â»â€¦ mais,
    faute de temps, la liste sâ€™allonge !\
-   Pour cette prÃ©sentation, jâ€™ai enfin passÃ© ces outils en revue, pris
    le temps de les essayer et dâ€™en extraire **lâ€™essentiel**.

## Objectifs de la prÃ©sentation

1.  Vous offrir un **rÃ©sumÃ© clair et pratique** des avancÃ©es 
    des deux derniÃ¨res annÃ©es en lien avec R.
2.  Passer en revue les **outils rÃ©cents** qui optimisent le workflowÂ R
    en sciences des donnÃ©es.\
3.  Les voir **en action** via des dÃ©mos live.\
4.  Vous fournir un **kit de ressources** (sur Github) pour aller plus loin.

# Plan de la prÃ©sentation

-   ğŸš€ **IDE: Posit, Posit Cloud et Positron**

-   ğŸ“„ **Quarto : reproducibilitÃ©**

-   Â ğŸ…Â **BaseÂ RÂ : nouveautÃ©s**

-   ğŸ¤– **IA & productivitÃ© de code**

-   ğŸ’¬ **Shiny + agents conversationnels**

-   ğŸ¨ **Design**
<!-- -   ğŸ“ˆ **ModÃ¨les prÃ©dictifs : tidymodels & Orbital** -->
-   â“ **Conclusion & Q&R**

# ğŸš€ IDEs modernesÂ : PositÂ Desktop/Workbench, PositÂ Cloud &Â Positron

## Pourquoi un bonâ€¯IDEâ€¯?

-   **ExpÃ©rience unifiÃ©e**Â : code, exÃ©cution, visualisation dans la mÃªme
    fenÃªtre.
-   **Assistance IA**Â : Copilot, Shinyâ€¯Assistant.
-   **DevOps prÃªtâ€‘Ã â€‘lâ€™emploi**Â : Git, publication
    Quarto/ShinyÂ â†’Â Positâ€¯Connect &â€¯Cloud.
-   **Collaboration**Â : PositÂ Cloud pour lâ€™enseignement, Positron pour
    projets multiâ€‘langages.

## PositÂ Desktop ("KousaÂ Dogwood"â€¯2024â€‘12)

-   **Copilotâ€¯Preview** inâ€‘line pour R, Python et Quarto.
-   **Formatter externe**Â : support natif *styler*, *Air*.
-   UX Quarto revueÂ : icÃ´ne Â«â€¯gearâ€¯Â» sur chaque chunk.

## PositÂ CloudÂ : RStudio dans le navigateur

-   **Templates** prÃªts Ã  lâ€™emploi (tidyverse, Shiny, Quarto).
-   **Copilot inâ€‘browser**Â (depuis dÃ©câ€¯2023).
-   Mises Ã  jour R & drivers automatiques, bouton
    *Publish*Â â†’Â Positâ€¯ConnectÂ Cloud.

## PositronÂ (beta)â€¯: IDE polyglotte

-   Projets **R, Python, Julia, SQL, Bash** dans un mÃªme workspace.

## Bonnes pratiques IDE

-   **Versionnez** vos rÃ©glagesÂ (`.Rprofile`, `settings.json`).
-   Activez **formatâ€‘onâ€‘save** (*Air* ou *styler*).
-   Utilisez **Projectâ€¯Templates** pour isoler les dÃ©pendances.
-   Relisez et tester toujours le code gÃ©nÃ©rÃ© par lâ€™IA avant de committer.

# ğŸ“„ QuartoÂ : nouveautÃ©s

## Qu'estâ€‘ce que Quartoâ€¯?

-   **Quarto** est un systÃ¨me de publication openâ€‘source pour le langage
    R, Python et Julia.
-   **Successeur moderne de RÂ Markdown**Â : chunks \`\``{}` similaires et
    YAML cohÃ©rent.
-   **Polyglotte**Â : R, Python, Julia, Observable â€” un document,
    plusieurs kernels.
-   Export **multiâ€‘format**Â : HTML, PDF, Word, RevealJS, Beamer,
    Dashboards, livres, sites.

## Pourquoi suivre Quarto de prÃ¨sâ€¯?

-   Plateâ€‘forme polyvalente accÃ©lÃ©rant la production de contenus
    scientifiques.
-   Workflows plus fluidesÂ : moins de YAML, meilleures
    prÃ©visualisations (mode visual).
-   Nouveaux formats (Dashboard, Manuscript), thÃ¨mes unifiÃ©s,
    intÃ©gration IA.

## Quarto DashboardsÂ (v1.4)

-   Nouveau format **dashboard** basÃ© sur `grid-page`Â : rows, columns,
    valueâ€‘boxes, cards.
-   Compatible Shiny et HTML widgets.
-   YAML minimalÂ :`format: dashboard   theme: minty`.

## Moteurâ€¯TypstÂ (v1.5)

-   Export PDF ultraâ€‘rapide via **Typst** au lieu de LaTeX.
-   Pas besoin de distribution TeX lourde.
-   Support des Ã©quations LaTeX et de la coloration syntaxique.

## BrandÂ / Darkâ€‘Mode ThemesÂ (v1.6)

-   Switch dâ€™un thÃ¨me clair Ã  sombre avec `theme-dark: darkly`.
-   **Brand CSS**Â : dÃ©posez `brand.css` â†’ toutes les sorties alignÃ©es Ã 
    la charte graphique.

## Crossâ€‘References & shortcode

-   Autoâ€‘numÃ©rotation des tableaux/figures â†’ `@tbl-â€¦`.
-   Shortcode `{{< version >}}` injecte la version Quarto utilisÃ©e.

## NouveautÃ©s Quarto 1.7 (avril 2025)

-   **Light / Dark renderings** : fournissez deux versions dâ€™une figure
    ou dâ€™un tableau â†’ Quarto sert la bonne selon le thÃ¨me.\
-   `respect-user-color-scheme: true` : bascule automatique clair/sombre
    selon les prÃ©fÃ©rences du navigateur.

> âš ï¸ Une preview 1.8 existe mais lâ€™Ã©quipe prÃ©vient dâ€™une **instabilitÃ©
> temporaire** ; attendez la stable avant dâ€™upgrader.

## Conclusionâ€¯â€“ bonnes pratiques Quarto

-   \***Utilise** des Quarto Projects.
-   Documente le YAMLÂ : commentaires.
-   Active `embed-resources: true` pour le partage offline.

# Baseâ€¯RÂ : nouveautÃ©s

## Pourquoi mettre Ã  jourÂ Râ€¯?

-   **Corrections de bugs & sÃ©curitÃ©**â€¯: vulnÃ©rabilitÃ©s corrigÃ©es
    rapidement.
-   **Performance**â€¯: tÃ©lÃ©chargement parallÃ¨le (`install.packages`) dÃ¨s
    4.5.
-   **Ergonomie**â€¯: pipe `|>` complet, `use()` pour imports ciblÃ©s,
    nouvelles fonctions utilitaires.
-   **CompatibilitÃ©**â€¯: packages rÃ©cents exigent souvent â‰¥â€¯4.3.

## Pipe `%>%` (tidyverse) vs `|>` (base R)

-   `%>%` provient du package **magrittr** ; nÃ©cessite `library(dplyr)`\
    ou `library(magrittr)`.
-   `|>` est intÃ©grÃ© Ã  **base R â‰¥ 4.1** : zÃ©ro dÃ©pendance, un soupÃ§on
    plus rapide.
-   Passer lâ€™objet ailleurs quâ€™au **premier argument** :
    -   `%>%` â†’ placeholder `.`\
    -   `|>` â†’ identifiant `_` (R 4.3+).

## Mini-dÃ©mo

```{r}
# tidyverse pipe
library(dplyr)
library(tidyverse)
iris %>% 
  dplyr::filter(Species == "setosa") %>% 
  dplyr::summarise(mean_sepal = mean(Sepal.Length))


# base R pipe (â‰¥ 4.1)
iris |>
  subset(Species == "setosa") |>
  with(mean(Sepal.Length))

```

## RÂ 4.3Â ("Already There?" â€“Â 20Â avrÂ 2023)

-   **VÃ©rifications longueurâ€‘1 plus strictes**Â : `x && y` gÃ©nÃ¨re une
    *erreur* si `x` ou `y` \>â€¯1Â Ã©lÃ©ment.
-   **Extraction depuis le pipe**Â : lâ€™identifiant `_` peut Ãªtre
    rÃ©utilisÃ© aprÃ¨s `|>`Â â†’ `mtcars |> lm(mpg~disp, data=_) |> _$coef`Â 
-   **MÃ©triques**Â : gains de \~5â€‘10â€¯% sur lâ€™Ã©valuation vectorisÃ©e.

## DÃ©mo rapide

```{r}
# stricte longueurâ€‘1
x <- c(TRUE, FALSE)
# x && TRUE  # â† gÃ©nÃ¨re erreur depuis RÂ 4.3

# pipe avec _
mtcars |> lm(mpg ~ disp, data = _) |> _$coef
```

## RÂ 4.5Â ("Howâ€¯Aboutâ€¯aÂ Twentyâ€‘Six" â€“Â 11Â avrÂ 2025)

-   **Datasets**Â : `penguins`, `penguins_raw` intÃ©grÃ©s au baseÂ R.
-   **`use()`**Â : import sÃ©lectif depuis un packageÂ â†’ Ã©vite conflits de
    noms.
-   **TÃ©lÃ©chargements parallÃ¨les**Â : `install.packages()` plus rapide
    (2â€‘5Ã—).

## DÃ©mo rapide

```{r eval=FALSE}
penguins |> head()
use("dplyr", c("filter", "select"))
filtered <- penguins |> filter(bill_length_mm > 40) |> select(species, year)
```

## Roadmap & bonnes pratiques

-   Surveillez **râ€‘devel NEWS** pour tester les nouveautÃ©s.
-   **Mettez Ã  jour** R rÃ©guliÃ¨rement (4.3+).
-   Utilisez `pak::pkg_install()` (encore plus rapide mais base R se
    rapprocheÂ !).

# IAÂ & productivitÃ© du code

## Pourquoi des copilotesâ€¯IA & autoâ€‘formatteursâ€¯?

-   **Gains de temps**â€¯: gÃ©nÃ©ration de code, refactorisations massives
    en un clic.
-   **MontÃ©e en compÃ©tences**â€¯: explications contextuelles.
-   **Standardisation**â€¯: style uniforme (Air) â†’ diff Git propres,
    relectures focalisÃ©es sur la logique.
-   **RÃ©duction des erreurs**
-   **PÃ©dagogie**â€¯: outil dâ€™apprentissage actif pour les Ã©tudiants comme
    pour les Ã©quipes.

## ganderÂ : le copilote contextuel pour R

-   **Addâ€‘in RStudio** qui dialogue avec un LLM et *rÃ©Ã©crit directement*
    la sÃ©lection couranteÂ : traduction baseâ€¯R â†’ tidyverse,
    vectorisation, documentation, etc.
-   Se base sur **ellmer**â€¯+â€¯`rstudioapi`â€¯: aucune copieâ€‘colle
    manuelleÂ ; le code retournÃ© remplace immÃ©diatement lâ€™ancien.
-   AvantagesÂ :
    1.  AccÃ©lÃ¨re les refactorisations rÃ©pÃ©titives.
    2.  Sert de mentor (Â«â€¯explique-moi ce blocâ€¯Â»).
    3.  Respecte le contexteÂ : data frames chargÃ©s.
    
- On peut choisir entre diffÃ©rents modÃ¨les de LLM

## AirÂ : formateur de code ultraâ€‘rapide

-   **Air** applique le *Tidyverse style guide* en une fraction de
    secondeâ€¯
-   AvantagesÂ :
    -   Style cohÃ©rent.
    -   Revue de code concentrÃ©e sur la logique, pas la mise en forme.
    -   Fonctionne Â«â€¯Ã  lâ€™enregistrementâ€¯Â» dans Positron/Rstudio ou via
        `air::style_file()`.

## ellmerÂ : passerelle LLM universelle

-   Package **ellmer**Â : fonctions `chat()`, `complete()`, supporte
    OpenAI/Anthropic/Ollama, stockage local des discussions.
-   UtilisÃ© en coulisses par gander pour insÃ©rer des
    rÃ©ponses dans RStudio.

## Bonnes pratiques pour coder avec lâ€™IA

-   **Toujours relire**â€¯: lâ€™IA peut halluciner ou omettre des cas
    limites.
-   **Tester systÃ©matiquement**â€¯
-   **Versionner & formater**â€¯: Git + Air pour du code propre.
-   **Documenter les prompts**â€¯: garder une trace dans le repo ou dans
    ellmer.
-   **Respect des donnÃ©es**â€¯: ne pas envoyer dâ€™info sensible ou
    propriÃ©taire; vÃ©rifier licences et RGPD.

# ShinyÂ + agentsâ€¯conversationnels

## Quâ€™estâ€‘ce quâ€™une applicationÂ Shinyâ€¯?

-   **Framework Web pour R (et maintenant Python)**â€¯: crÃ©ez une appli
    interactive *sans* Ã©crire de HTML/JS.\
-   Architecture **UIâ€¯+â€¯Server rÃ©actif**â€¯: les widgets dÃ©clenchent un
    recalcul cÃ´tÃ© R, lâ€™interface se met Ã  jour instantanÃ©ment.\
-   **DÃ©ploiement flexible**â€¯: local, *shinyapps.io*, PositÂ Connect ou
    **Shinylive** (tout tourne dans le navigateur).\
-   Cas dâ€™usageâ€¯: dashboards exploratoires, dÃ©monstrateurs de modÃ¨les,
    outils pÃ©dagogiques, prototypes de produits.

## Pourquoi marier Shiny et lesâ€¯LLMâ€¯?

-   Explosion des assistants de codage (Shinyâ€¯Assistant, **gander**) qui
    gÃ©nÃ¨rent du *code UI + server* en quelques secondes\

-   [Shinyâ€¯Assistant
    (Posit)](https://gallery.shinyapps.io/assistant/?_gl=1*yzykgf*_ga*MTUwMDg2NTIyNy4xNzQyMzI1ODc3*_ga_2C0WZ1JHG0*czE3NDcwNTU5MDkkbzEzJGcwJHQxNzQ3MDU1OTA5JGowJGwwJGgw)



# Design moderne pour apps & rapports

## Pourquoi se soucier du designâ€¯?

-   **LisibilitÃ© & crÃ©dibilitÃ©**Â : un visuel propre renforce la
    confiance.
-   **AccessibilitÃ©**Â : contrastes, navigation clavier, darkâ€‘mode â†’
    public Ã©largi.
-   **ProductivitÃ©**Â : composants rÃ©utilisables (cards, value_boxes)
    accÃ©lÃ¨rent le prototypage.
-   **CohÃ©rence**Â : thÃ¨mes partagÃ©s entre Quarto, Shiny et
    sites web.

## bslibÂ 0.7Â : cartes, value_boxes, layout_sidebar
-   **bslib**Â : package pour crÃ©er des thÃ¨mes Bootstrap 5 pour Shiny et
    Quarto.
-   Nouvelle version (marsÂ 2024) ajoute `card()`, `value_box()`,
    `layout_sidebar()` et refonte de `layout_columns()`Â â†’ grilles
    responsives sans CSS. 
-   **Avantages**Â : prototypage rapide, cohÃ©rence visuelle.


## Shinyâ€¯Uiâ€¯EditorÂ 
-   **Shiny UI Editor**Â : Ã©diteur visuel pour crÃ©er des applications
    Shiny sans Ã©crire de code.
-   **Dragâ€‘andâ€‘drop** pour construire lâ€™UI; gÃ©nÃ¨re
    du code R \
-   AperÃ§u live, palette de composants {bslib}, export vers RStudio.
-   **Avantages**Â : democratise UX, facilite le developpement d'app auprÃ¨s des nonâ€‘dÃ©veloppeurs.



## esquisseÂ : construire un ggplot sans coder

- `{esquisse}` ouvre une **interface Shiny interactive** pour crÃ©er des graphiques `ggplot2`.  
- Glissez vos variables dans X / Y / couleur / facette.  
- Choisissez un type de graphique (`geom`) et personnalisez.  
- Le **code R est gÃ©nÃ©rÃ© automatiquement** et peut Ãªtre copiÃ©/collÃ©.

> IdÃ©al pour la formation, le prototypage rapide ou explorer un jeu de donnÃ©es inconnu.



<!-- # ModelOpsÂ : de lâ€™entraÃ®nement Ã  la production -->

<!-- ## Pourquoi le ModelOpsâ€¯? -->

<!-- -   Passage du **notebook** au **service en production** est la partie -->
<!--     la plus coÃ»teuse du cycle ML. -->
<!-- -   NÃ©cessitÃ© de **traÃ§abilitÃ©**, **rÃ©plicabilitÃ©**, **scalabilitÃ©** et -->
<!--     **monitoring** continu. -->
<!-- -   Lâ€™Ã©cosystÃ¨me R autour de **tidymodels** comble le fossÃ© entre -->
<!--     dataâ€¯science et opsâ€¯sans quitter R. -->

<!-- ## tidymodelsÂ : fondation du cycle MLÂ tidy -->

<!-- -   MÃ©tapackage (recipes, parsnip, workflows, tune, yardstickâ€¦). -->
<!-- -   Pipeline dÃ©claratifÂ : recette de prÃ©â€‘traitement â†’ spÃ©cification -->
<!--     modÃ¨le â†’ workflow complet. -->
<!-- -   AvantagesÂ : -->
<!--     1.  Syntaxe cohÃ©rente Â«â€¯tidyverseâ€¯Â». -->
<!--     2.  Historique complet des Ã©tapes & hyperparamÃ¨tres. -->
<!--     3.  IntÃ©gration native aux briques ModelOps (vetiver, pins, -->
<!--         orbital). -->



<!-- ## vetiverÂ : empaqueter, versionner, dÃ©ployer -->

<!-- -   Transforme un **workflow** en objet vetiver prÃªt Ã  Ãªtre servi via -->
<!--     API Plumber/FastAPI. -->
<!-- -   Utilise **pins** pour sauvegarde/versionâ€¯; ajoute validation -->
<!--     dâ€™entrÃ©es & monitoring. -->

<!-- ## DÃ©moÂ vetiverÂ â€“ publier une API -->

<!-- 1.  `pak::pkg_install(c("vetiver", "pins"))` -->
<!-- 2.   -->

<!-- ``` r -->
<!--    library(vetiver) -->
<!--    board <- board_folder("models/") -->
<!--    v <- vetiver_model(final_wf, "adult_rf_v1") -->
<!--    vetiver_pin_write(board, v) -->
<!--    vetiver_write_plumber(board, "adult_rf_v1")   # crÃ©e plumber.R -->
<!-- ``` -->

<!-- 3.  `plumber::pr_run("plumber.R", port = 8000)` â‡’ POST `/predict`. -->
<!-- 4.  AppelerÂ : -->
<!--     `curl -X POST -H "Content-Type: application/json" -d '{"age":42,...}' http://localhost:8000/predict`. -->

<!-- ## orbitalÂ : prÃ©dire directement en SQL -->

<!-- -   Convertit un **workflow tidymodels** en requÃªte SQL ou UDF -->
<!--     Snowflake/Postgres/BigQuery. -->
<!-- -   Supprime la latence liÃ©e aux extractionsâ€¯; garde les donnÃ©es dans -->
<!--     leur base. -->

<!-- ## DÃ©moÂ orbitalÂ â€“ export Snowflake -->

<!-- 1.  `pak::pkg_install("orbital")` -->
<!-- 2.   -->

<!-- ``` r -->
<!--    library(orbital) -->
<!--    orb <- orbital(final_wf) -->
<!--    sql_code <- orbital_as_sql(orb, table = "RAW.ADULT_DATA") -->
<!--    writeLines(sql_code)            # coller dans l'IDE Snowflake -->
<!-- ``` -->

<!-- 3.  Dans SnowflakeÂ : -->
<!--     `CREATE FUNCTION predict_income(...) RETURNS FLOAT AS $$ ... $$;` -->
<!-- 4.  `SELECT id, predict_income(*) AS proba FROM RAW.ADULT_DATA LIMIT 10;` -->

<!-- ## workflowsetsÂ : multiverseâ€¯tuning -->

<!-- -   GÃ©nÃ¨re et compare **des dizaines de workflows** en un objet. -->
<!-- -   `autoplot()` intÃ©grÃ© pour visualiser performances & rangs. -->

<!-- ## DÃ©moÂ workflowsets -->

<!-- ``` r -->
<!-- library(workflowsets) -->
<!-- set <- workflow_set( -->
<!--   preproc = list(basic = rec, spline = rec %>% step_ns(age, deg_free = 4)), -->
<!--   models  = list(rf = mod, logit = logistic_reg() %>% set_engine("glm")) -->
<!-- ) -->
<!-- fit_set <- workflow_map(set, "tune_grid", resamples = vfold_cv(train, v = 3)) -->
<!-- autoplot(fit_set) -->
<!-- ``` -->

<!-- ## pinsÂ : versionner tous vos artefacts -->

<!-- -   Sauvegarde objets sur **boards** (local, S3, GCS, Posit Connect)Â ; -->
<!--     versioning activÃ©. -->
<!-- -   Se combine Ã  vetiver pour historiser *chaque* build. -->

<!-- ## DÃ©moÂ pins -->

<!-- ``` r -->
<!-- library(pins) -->
<!-- board <- board_folder("boards/") -->
<!-- board %>% pin_write(final_wf, "adult_rf", type = "rds") -->
<!-- board %>% pin_versions("adult_rf") -->
<!-- ``` -->

<!-- ## Conclusion â€¢ Bonnes pratiques ModelOps -->

<!-- -   **CI/CD**Â : GitHubÂ ActionsÂ +Â `renv` pour des builds reproductibles. -->
<!-- -   **Tests**Â : `testthat` + tests dâ€™intÃ©gration prÃ©dictive. -->
<!-- -   **Monitoring**Â : vetiver fournit des mÃ©triques de drift; exposezâ€‘les -->
<!--     via Prometheus/Grafana. -->
<!-- -   **Gouvernance**Â : pins et orbital conservent lâ€™historiqueÂ + contexte -->
<!--     directement dans le datawarehouse. -->

# Conclusion & Q&R

-   **RÃ©capitulatif** des outils et bÃ©nÃ©fices.\
-   **Invitation** Ã  tester et partager vos retours.
-   Vous retrouverez la prÃ©sentation et le code des exemples sur Github:
-   **Questions ?**

# Liens & RÃ©fÃ©rences

-   Gander : https://posit.co/blog/introducing-gander/\
-   Shiny Assistant :
    https://shiny.posit.co/blog/posts/shiny-assistant/\
-   Ellmer : https://posit.co/blog/announcing-ellmer/\
-   do4ds : https://do4ds.com/\
-   tidyverse AI :
    https://www.tidyverse.org/blog/2025/01/experiments-llm/\
-   air : https://www.tidyverse.org/blog/2025/02/air/\
-   generate-data :
    https://posit.co/blog/generate-data-with-an-llm-and-ellmer/\
-   learn-tidyverse-ai :
    https://www.tidyverse.org/blog/2025/04/learn-tidyverse-ai/
