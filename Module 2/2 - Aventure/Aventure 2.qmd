---
title: "Aventure 2 - Github et la visualisation de donnÃ©es numÃ©riques"
subtitle: "STT-1100 Introduction Ã  la science des donnÃ©es"
author: 
  - institute: "UniversitÃ© Laval"
editor: visual
editor_options: 
  chunk_output_type: console
format:
  html:
    toc: true
    toc-title: Plan
    css: [../../css/base_css.css]
    self-contained: true
#    number-sections: true
---

```{r setup, echo=FALSE, message=FALSE, warning=FALSE}
library(palmerpenguins)
library(tidyverse)

#Voici les modifications que j'ai apportÃ©es au jeu de donnÃ©es des manchots pour cette aventure :
#penguins[c( 11), c("body_mass_g", "bill_length_mm")]

#Ajout d'une valeur aberrante sur une seule variable :
#Un individu a une longueur de nageoire (flipper_length_mm) de 400 mm, ce qui est bien au-delÃ  de la normale.
#Ajout d'une valeur aberrante sur deux variables :
#Un individu a une masse corporelle (body_mass_g) de 9000 g et une longueur de bec (bill_length_mm) de 20 mm, une combinaison incohÃ©rente.

library(UlavalSSD)
```

## ğŸ§Š Mission Antarctique â€“ Dans la peau dâ€™unÂ·e scientifique de donnÃ©es

Bienvenue dans votre nouvelle mission scientifiqueâ€¯! Vous Ãªtes dÃ©sormais **scientifique de donnÃ©es** dans lâ€™Ã©quipe de la **Dre AdÃ©lie**, une chercheuse spÃ©cialisÃ©e dans lâ€™Ã©tude des pingouins dâ€™Antarctique. Elle vous a confiÃ© un ensemble de donnÃ©es collectÃ©es sur le terrain pour lâ€™aider Ã  explorer certaines pistes de recherche.

Votre travail consiste Ã  **manipuler, transformer et visualiser** les donnÃ©es de maniÃ¨re rigoureuse, afin dâ€™en extraire des informations utiles et reproductibles. Vous devrez notamment produire des visualisations convaincantes, calculer des statistiques descriptives et documenter votre dÃ©marche dans un rapport clair.

> ğŸ§ Le jeu de donnÃ©es, qui contient des mesures physiques de plusieurs espÃ¨ces de pingouins, vous servira de terrain dâ€™enquÃªte.

------------------------------------------------------------------------

## âœï¸ DÃ©roulement de la mission et livrables attendus

La mission se dÃ©roulera en **deux temps**, car la Dre AdÃ©lie devra bientÃ´t repartir en expÃ©dition en Antarctique.

### ğŸ”¹ Partie 1 â€“ Avant le dÃ©part de la Dre AdÃ©lie

Avant son dÃ©part, vous collaborerez Ã©troitement avec elle pour explorer les premiÃ¨res pistes. Elle vous demandera de :

-   Nettoyer et transformer les donnÃ©es avec `dplyr`.
-   Calculer des statistiques descriptives pertinentes sur les variables numÃ©riques.
-   CrÃ©er des visualisations exploratoires (`ggplot2`) pour mieux comprendre les relations entre les variables.

ğŸ“˜ **Livrable de la premiÃ¨re partie** :\
Vous devez rÃ©diger un **journal de bord** dans un rapport Quarto (format HTML) qui documente vos observations, vos explorations et les pistes que vous avez soulevÃ©es avec elle. Ce journal sert Ã  garder une trace de vos analyses avant quâ€™elle ne parte sur le terrain. Un modÃ¨le de journal de bord vous sera donnÃ©.

------------------------------------------------------------------------

### ğŸ”¹ Partie 2 â€“ Au retour de la Dre AdÃ©lie

De retour de mission, la Dre AdÃ©lie reviendra avec des **questions prÃ©cises** Ã  explorer et vous demandera de lâ€™aider Ã  prÃ©parer un rapport solide pour accompagner sa **demande de subvention**.

ğŸ“˜ **Livrable de la deuxiÃ¨me partie** :\
Un **rapport structurÃ© et complet** rÃ©pondant Ã  ses nouvelles demandes prÃ©cises, incluantâ€¯: - Des visualisations ciblÃ©es. - Des analyses prÃ©cises basÃ©es sur vos dÃ©couvertes antÃ©rieures. - Une mise en forme professionnelle (titre, lÃ©gendes, axes lisibles, cohÃ©rence graphique). - Un suivi rigoureux via **GitHub**, incluant plusieurs commits bien commentÃ©s. - Elle vous donnera une liste de tÃ¢ches claires et prÃ©cises Ã  rÃ©pondre.

------------------------------------------------------------------------

> ğŸ§‘â€ğŸ’¼ **Note de terrain** : Pendant votre mission, unÂ·e collÃ¨gue plus expÃ©rimentÃ©Â·e (Jules Tremblay) passera vous voir de temps en temps pour vÃ©rifier que tout se passe bien. Il ou elle vous posera quelques **questions rapides** pour tester votre comprÃ©hension. RÃ©pondez-y sÃ©rieusement, ces vÃ©rifications vous aideront Ã  consolider vos apprentissages !

# Comment rÃ©ussir cette aventure {.unnumbered}

Bienvenue dans cette nouvelle aventure en science des donnÃ©es ! Cette fois, vous allez collaborer avec une chercheuse qui Ã©tudie les manchots de la station Palmer en Antarctique. Votre mission est dâ€™explorer et dâ€™analyser ses donnÃ©es pour lâ€™aider Ã  rÃ©pondre Ã  ses questions scientifiques.

Pour rÃ©ussir cette aventure, voici quelques conseils essentiels :

-   **Lisez attentivement chaque section** avant de passer Ã  lâ€™expÃ©rimentation. Les explications fournies vous permettront de bien comprendre les concepts et les outils utilisÃ©s.\
-   **ExpÃ©rimentez activement** en exÃ©cutant le code proposÃ© et en lâ€™adaptant Ã  vos propres analyses. Modifier et tester diffÃ©rentes approches est un excellent moyen dâ€™apprendre.\
-   **RÃ©flÃ©chissez aux questions posÃ©es par la chercheuse** et utilisez les outils adÃ©quats pour y rÃ©pondre. Pensez Ã  justifier vos choix et interprÃ©tations.\
-   **Soyez rigoureux** dans votre travail en adoptant de bonnes pratiques de programmation et en documentant vos analyses.\
-   **Nâ€™hÃ©sitez pas Ã  poser des questions** si vous rencontrez des difficultÃ©s ou si certains concepts restent flous.

Cette aventure vous permettra de dÃ©velopper vos compÃ©tences en manipulation, visualisation et analyse de donnÃ©es avec `dplyr` et `ggplot2`. Ce sont des compÃ©tences primordiales pour un scientifique de donnÃ©es. Prenez le temps dâ€™explorer les diffÃ©rentes Ã©tapes et amusez-vous Ã  apprendre !

# ğŸš€ Travail sur Github

La chercheuse a prÃ©parÃ© un dÃ©pÃ´t sur GitHub oÃ¹ elle souhaite que vous enregistriez tout votre travail. De son cÃ´tÃ©, elle y a dÃ©posÃ© la base de donnÃ©es quâ€™elle a collectÃ©e ainsi quâ€™une description dÃ©taillÃ©e des variables. Elle souhaite notamment que vous completiez un journal de bord modÃ¨le au format Quarto.

Avant de commencer l'analyse des donnÃ©es, vous devez rÃ©cupÃ©rer le dÃ©pÃ´t GitHub contenant les fichiers nÃ©cessaires.

1ï¸âƒ£ Clonez le dÃ©pÃ´t "Aventure-2-IDENTIFIANT_GITHUB", pour cela crÃ©ez un nouveau projet Rstudio et copier coller le lien HTTPS de votre repo Github (voir feuille aide mÃ©moire).

ğŸ’¡ Astuce : Si vous souhaitez revenir plus tard sur ce projet, vous pouvez ouvrir directement le projet en double-cliquant sur le fichier `.Rproj` dans votre explorateur de fichiers.

2ï¸âƒ£ Ouvrir le fichier Quarto de journal de bord: Inscrivez votre nom et enregistrer.

3ï¸âƒ£ Premier commit et push vers GitHub: Une fois votre fichier `.qmd` modifiÃ© et enregistrÃ©, commitez et poussez vos modifications sur GitHub :

Attention: on se rappelle que les messages de commit doivent Ãªtre parlant. Par exemple "Initialisation du journal de bord"

ğŸ¯ FÃ©licitations ! Vous Ãªtes maintenant prÃªt Ã  dÃ©buter lâ€™analyse scientifique des manchots ! ğŸ§ğŸš€

> ğŸ’¡ Conseil : Utiliser le modÃ¨le de journal de bord pour completer l'ensemble des analyses de la premiÃ¨re partie de cette aventure. Prenez donc quelques minutes pour regarder la structure du document.

# ğŸ“‚ Lecture des donnÃ©es

La chercheuse vous a fourni un fichier Excel contenant les donnÃ©es des manchots quâ€™elle a collectÃ©es. Votre premiÃ¨re mission consiste Ã  **charger ces donnÃ©es dans R** en utilisant lâ€™interface graphique de RStudio.

**ğŸ”¹ Ã‰tapes Ã  suivre**

1.  **Ouvrir le menu dâ€™importation de donnÃ©es**

    -   Dans RStudio, allez dans lâ€™onglet **Environment** (Environnement).

    -   Cliquez sur **Import Dataset** (Importer un jeu de donnÃ©es).

    -   SÃ©lectionnez **From Excel...** (Depuis Excel...), puisque l'extension est un `.xlsx`

![](image/bouton_import_data.png){fig-align="center"}

1.  **SÃ©lectionner le fichier**

    -   Dans la fenÃªtre qui sâ€™ouvre, cliquez sur **Browse...** (Parcourir...) et sÃ©lectionnez le fichier **`.xlsx`** que vous avez tÃ©lÃ©chargÃ© via le clonage du dÃ©pÃ´t.

2.  **Ajuster les paramÃ¨tres dâ€™importation**

    -   Assurez-vous que les en-tÃªtes de colonnes sont bien dÃ©tectÃ©es.

    -   VÃ©rifiez que toutes les variables sont correctement identifiÃ©es (ex. les nombres sont bien en format numÃ©rique).

    -   On appelera le jeu de donnÃ©es `penguins_mission`, complÃ©ter l'information dans la fenÃªtre.

3.  **Importer et afficher les donnÃ©es**

    -   Cliquez sur **Import**.

    -   VÃ©rifiez que votre jeu de donnÃ©es apparaÃ®t dans lâ€™**Environment** sous le nom `penguins_mission`.

    *Remarque*: lorsque on clique sur **Import,** un code s'execute dans la console. Il s'agit du code pour importer le jeu de donnÃ©es.

    -   Pour voir un aperÃ§u des donnÃ©es, utilisez la commande suivante dans la console :

        `View(penguins_mission)`

ğŸ“ **Rappel : documentez votre importation dans votre rapport Quarto**

Une bonne pratique en science des donnÃ©es est de toujours **documenter** comment vous avez importÃ© les donnÃ©es, mÃªme si vous avez utilisÃ© une interface graphique.\
Ajoutez le code exÃ©cutÃ© dans la console dans votre fichier **Quarto** de journal de bord **(`.qmd`)** Ã  la section appropriÃ©e.

Dans chaque rapport d'analyse, vous devriez avoir une premiÃ¨re section **Lecture des donnÃ©es,** avec un bloc de code qui contient le code qui permet de lire les donnÃ©es. J'en profite pour vous rappeler les **bonnes pratiques de programmation du Tidyverse**, Ã  savoir que dans votre bloc de code, il devrait par exemple y avoir des commentaires.

ğŸ’¡ **Pourquoi est-ce important ?**\
Cela garantit que votre analyse est **reproductible** : si un autre chercheur veut la refaire, il pourra exÃ©cuter votre code sans avoir Ã  utiliser lâ€™interface graphique.

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(readxl)  # Chargement du package pour lire Excel

# Importation des donnÃ©es
penguins_mission <- read_excel("manchots_donnees.xlsx")

```

::: {.callout-important title="ğŸ§‘â€ğŸ’¼ Intervention de Jules â€“ Nom de la base"}
Tu viens d'importer le fichier Excel. Dis-moi, dans quelle variable as-tu stockÃ© les donnÃ©es pour la suite de lâ€™analyse ?\
1. `penguins`\
2. `penguins_mission`\
3. `donnees_manchots`\
4. `mission_antarctique`
:::

::: {.callout-caution collapse="true" title="âœ… RÃ©ponse de Jules"}
Tu devais nommer ta base **`penguins_mission`**, comme indiquÃ© dans l'instruction d'importation.\
ğŸ’¡ Attention : tout le reste de lâ€™analyse repose sur ce nom cohÃ©rent !
:::

**ğŸ“Œ Une fois vos donnÃ©es chargÃ©es, vous Ãªtes prÃªts Ã  les explorer et Ã  les analyser ğŸ§! Pensez Ã  gÃ©nÃ©rer votre rapport, committer vos modifications et pousser sur GitHub pour garder une trace de votre travail ! ğŸš€**

# ğŸ› ï¸ Manipulation de donnÃ©es

## RÃ©sumÃ© de donnÃ©es avec `glimpse()`

La chercheuse veut une vue rapide des donnÃ©es pour vÃ©rifier leur structure. Utilisez `glimpse()` pour afficher un aperÃ§u :

```{r, eval=FALSE}
library(tidyverse)
glimpse(penguins_mission)
```

::: {.callout-important title="ğŸ§‘â€ğŸ’¼ Jules â€“ Variables numÃ©riques"}
Combien de **variables numÃ©riques** vois-tu dans le `glimpse()` de `penguins_mission`?\
- 3\
- 4\
- 5\
- 6
:::

::: {.callout-caution collapse="true" title="âœ… RÃ©ponse de Jules"}
Il y a gÃ©nÃ©ralement **5 variables numÃ©riques** :\
`bill_length_mm`, `bill_depth_mm`, `flipper_length_mm`, `body_mass_g` et `year`.\
ğŸ§  Attention : certaines versions du jeu peuvent varier selon l'importation !
:::

#### ğŸ” AperÃ§u rapide avec `glimpse()`

La fonction `glimpse()` du package **dplyr** permet dâ€™obtenir **un aperÃ§u rapide et structurÃ© dâ€™un jeu de donnÃ©es**.

PlutÃ´t que dâ€™afficher toutes les lignes ou une structure en arbre comme `str()`, `glimpse()` prÃ©sente les variables **horizontalement**, avec :

-   Le **nom de chaque variable**

-   Son **type de donnÃ©es** (`<dbl>`, `<chr>`, `<fct>`, etc.)

-   Quelques **valeurs reprÃ©sentatives** de chaque colonne

Cette prÃ©sentation facilite lâ€™examen rapide de la structure dâ€™un tableau, surtout lorsquâ€™il comporte **de nombreuses colonnes**.

> ğŸ§  **Bon Ã  savoir** : `glimpse()` est particuliÃ¨rement utile pour repÃ©rer dâ€™Ã©ventuelles erreurs de type (ex. une variable numÃ©rique encodÃ©e comme texte) ou pour dÃ©celer des valeurs manquantes.

::: callout-tip
#### Exercice

La chercheuse souhaite obtenir un premier compte rendu sur les donnÃ©es disponibles. Pour cela, vous devez complÃ©ter le texte suivant et l'intÃ©grer dans votre journal de bord d'analyse Quarto : \> "Le jeu de donnÃ©es contient \*\*\_\_\_\*\* observations et \*\*\_\_\_\*\* variables. Les variables sont ***,*** , \*\*\_\_\_\*\*....etc"
:::

::: callout-note
ğŸ’¡ **Question de rÃ©flexion** : Que se passe-t-il si la chercheuse modifie la base de donnÃ©es ? Par exemple, elle a oubliÃ© un manchot et l'ajoute sans vous prÃ©venir, puis met Ã  jour le dÃ©pÃ´t GitHub. Lorsque vous rÃ©exÃ©cutez votre analyse dans votre rapport Quarto (`.qmd`), que va-t-il se passer ? ğŸ¤”
:::

Ne vous inquiÃ©tez pas si cela vous semble complexe ! Nous reviendrons sur cet aspect plus tard dans la session. ğŸ˜‰

::: callout-tip
#### Exercice

Combien de variables sont de type numÃ©rique? Combien de type charactÃ¨re? *to-do*: Inclure votre rÃ©ponse dans votre journal de bord Ã  la suite du texte trouÃ©.
:::

**Pensez Ã  gÃ©nÃ©rer votre rapport, committer vos modifications et pousser sur GitHub pour garder une trace de votre travail ! ğŸš€**

## SÃ©lectionner des variables avec `select()`

La chercheuse veut se concentrer uniquement sur certaines variables pertinentes pour son analyse. Utilisez `select()` pour ne garder que `species`, `island`, `bill_length_mm` et `body_mass_g` :

```{r, eval=FALSE}
penguins_subset <- penguins_mission %>% 
  select(species, island, bill_length_mm, body_mass_g)
```

::: callout-note
#### Exemple

Faite un `glimpse()` de la nouvelle base de donnÃ©es `penguins_subset`. Pourquoi avoir choisi un nouveau nom?
:::

::: callout-tip
#### Exercice

SÃ©lectionnez toutes les variables sauf `flipper_length_mm` et `body_mass_g`. Attention il y a une facon rapide de le faire!
:::

## CrÃ©er de nouvelles variables avec `mutate()`

ğŸ’¡ **Explication** : La chercheuse souhaite ajouter une nouvelle colonne indiquant le poids en kilogrammes au lieu de grammes. En effet, son appareil de mesure indiquait les mesures en g, mais elle croit que cela sera plus facile Ã  interprÃ©ter en kg.

ğŸ’¡ **Pourquoi est-ce utile ?** Transformer les unitÃ©s peut faciliter la comprÃ©hension et la communication des rÃ©sultats.

La chercheuse souhaite ajouter une nouvelle colonne indiquant le poids en kilogrammes au lieu de grammes. Utilisez `mutate()` pour crÃ©er cette nouvelle variable :

```{r eval=FALSE}
penguins_mission <- penguins_mission %>% 
  mutate(body_mass_kg = body_mass_g / 1000)
```

::: {.callout-important title="ğŸ§‘â€ğŸ’¼ Jules â€“ Masse en kilogrammes"}
Tu as transformÃ© la masse en kilogrammes. La masse du penguin numÃ©ro 21 est plus petit que 4 kg, vrai ou faux?\
1. Vrai\
2. Faux\
:::

::: {.callout-caution collapse="true" title="âœ… RÃ©ponse de Jules"}
Quand on regarde la ligne 21 de la base de donnÃ©es, on obtiens un nombre pour `body_mass_kg` de 4.01 kg, donc la rÃ©ponse est **Faux**.\

```{r eval=FALSE}
penguins_mission[21,"body_mass_kg"]
```
:::

On va maintenant continuer avec une nouvelle variable dont la chercheuse est trÃ¨s intÃ©rÃ©ssÃ©e:

::: callout-tip
#### Exercice

CrÃ©ez une nouvelle variable appelÃ©e `bill_ratio` correspondant au rapport entre la longueur et la profondeur du bec.

ğŸ§ **Question de la chercheuse** : un de mes collÃ¨gues en antartique m'assure que le rapport **moyen** entre la longueur et la profondeur du bec est superieur Ã  3. De mon cÃ´tÃ©, je trouve cela Ã©trange, car ca ne respecte pas ce qu'on peut lire dans la littÃ©rature. Peux-tu m'aider avec cela? j'aimerai que tu rÃ©pondes Ã  la question dans le journal de bord.
:::

```{r echo=FALSE}
penguins_mission <- penguins_mission %>% 
  mutate(ratio = bill_length_mm/bill_depth_mm)
```

**Pensez Ã  gÃ©nÃ©rer votre rapport, committer vos modifications et pousser sur GitHub pour garder une trace de votre travail ! ğŸš€**

## Filtrer les donnÃ©es avec `filter()`

La chercheuse veut analyser uniquement les manchots de lâ€™Ã®le **Biscoe**. Utilisez `filter()` pour ne garder que ces observations :

```{r eval=FALSE}
penguins_biscoe <- penguins_mission %>% 
  filter(island == "Biscoe")
```

::: callout-tip
#### Exercice

Filtrez les donnÃ©es pour ne garder que les manchots de lâ€™espÃ¨ce **Adelie** de l'Ã®le Biscoe.
:::

## Regrouper et rÃ©sumer les donnÃ©es avec `group_by()`

La chercheuse souhaite connaÃ®tre la masse moyenne des manchots par espÃ¨ce. Utilisez `group_by()` suivi de `summarise()` pour obtenir cette information :

```{r eval=FALSE}
penguins_summary <- penguins_mission %>% 
  group_by(species) %>% 
  summarise(mean_body_mass_g = mean(body_mass_g, na.rm = TRUE))
```

*Remarque*: on utilise l'option `na.rm=TRUE` dans les fonctions, ce qui est assez pratique, car cela permet de calculer la statistique en omettant les valeurs manquantes (`NA`).

::: callout-tip
#### Exercice

ğŸ§ **Question de la chercheuse** : Quelle est la combinaison Ã®le/espÃ¨ce qui possÃ¨de la longueur mÃ©diane de nageoire la plus faible ? j'aimerai que tu rÃ©pondes Ã  la question dans le journal de bord.
:::

GrÃ¢ce Ã  `group_by` on peut aussi par exemple filter par groupe, ce qui peut Ãªtre trÃ¨s pratique!

::: callout-tip
#### Exercice

ğŸ“ **Exercice** : Faites sortir le premier manchot de la base de donnÃ©es pour chaque espÃ¨ce et chaque Ã®le. *Indice:* on peut utiliser la fonction `top_n`.
:::

**Pensez Ã  gÃ©nÃ©rer votre rapport, committer vos modifications et pousser sur GitHub pour garder une trace de votre travail ! ğŸš€**

# ğŸ§ Un appel d'urgence depuis l'Antarctique

Alors que vous avanciez bien dans votre analyse des donnÃ©es, vous recevez un message urgent de la chercheuse. Elle a dÃ» partir prÃ©cipitamment en Antarctique pour une mission d'urgence : aider une colonie de manchots confrontÃ©e Ã  des conditions climatiques extrÃªmes.

Avant son dÃ©part, elle a pris soin de vous laisser une liste de tÃ¢ches essentielles Ã  complÃ©ter. Elle compte sur vous pour poursuivre son analyse ! Cependant, la connexion est instable lÃ -bas, et la seule maniÃ¨re de communiquer avec elle est par Teams, elle vous enverra des messages mais vous ne pourrais pas communiquer avec elle.

> **Note:** ici vous Ãªtes toujours dans la partie 1 de l'aventure, mais la chercheuse vous a laissÃ© une liste de tÃ¢ches Ã  complÃ©ter avant son dÃ©part. Vous devez donc continuer Ã  travailler sur le jeu de donnÃ©es `penguins_mission` que vous avez crÃ©Ã© prÃ©cÃ©demment. Vous devez donc continuer a completer le journal de bord.

# ğŸ“Š Visualisation des donnÃ©es

La visualisation des donnÃ©es est une Ã©tape essentielle de l'analyse, car elle permet de mieux comprendre les tendances et les relations entre les variables. Une bonne visualisation facilite l'interprÃ©tation des donnÃ©es et aide Ã  repÃ©rer des valeurs aberrantes ou des motifs intÃ©ressants.

ğŸ’¡ **Rappel des bonnes pratiques de codage en visualisation** :

-   Toujours **Ã©tiqueter** les axes avec `labs()` pour rendre les graphiques comprÃ©hensibles.

-   Utiliser des **couleurs adaptÃ©es** pour distinguer les groupes sans surcharger la visualisation.

-   VÃ©rifier que l'Ã©chelle des axes est cohÃ©rente et ne fausse pas l'interprÃ©tation des donnÃ©es.

-   Adapter le **binwidth** des histogrammes et la **transparence** des points dans les graphiques de nuage de points pour Ã©viter une mauvaise lisibilitÃ©.

-   Tester plusieurs types de graphiques avant de conclure sur une analyse.

## Histogrammes

ğŸ’¡ **Explication** : Un histogramme permet de visualiser la distribution d'une variable numÃ©rique. Ici, nous allons par exemple examiner la rÃ©partition des profondeurs de bec (`bill_depth_mm`).

```{r}
library(ggplot2)
ggplot(penguins_mission, aes(x = bill_depth_mm)) +
  geom_histogram(binwidth = 0.5, fill = "steelblue", color = "black") +
  labs(title = "Distribution de la longueur du bec des manchots",
       x = "Longueur du bec (mm)",
       y = "Effectif")
```

::: callout-note
#### Exemple

Changez la valeur de `binwidth` dans le code ci-dessus et observez comment cela modifie l'histogramme.
:::

::: {.callout-important title="ğŸ§‘â€ğŸ’¼ Jules â€“ Distribution observÃ©e"}
Quand tu regardes lâ€™histogramme de `bill_depth_mm`, quel mot dÃ©crit le mieux la forme de la distribution ?\
1. Uniforme\
2. Bimodale\
3. AsymÃ©trique droite\
4. SymÃ©trique
:::

::: {.callout-caution collapse="true" title="âœ… RÃ©ponse de Jules"}
La distribution est gÃ©nÃ©ralement **symÃ©trique**, voire lÃ©gÃ¨rement Ã©talÃ©e.\
Une bonne lecture visuelle aide Ã  anticiper les mesures centrales et extrÃªmes.
:::

**ğŸ“œ Instructions laissÃ©es par la chercheuse**

Pour connaÃ®tre la premiÃ¨re demande de la chercheuse, voic son message recu :

```{r eval=TRUE, echo=FALSE}
consulter_taches("histogramme")
```

::: callout-tip
#### Exercice

CrÃ©ez un histogramme pour la variable `flipper_length_mm`. Vous devez ajuster l'ensemble des informations sur le graphique en respectant les bonnes pratiques de visualisation.

ğŸ§ **Question de la chercheuse** : En regardant l'histogramme de la longueur des nageoires, remarquez-vous quelque chose de particuliÃ¨re dans la distribution ?
:::

Poussons un peu plus loin la visualisation pour essayer de rÃ©pondre Ã  sa demande.

## Boite Ã  moustache

ğŸ’¡ **Explication** : Une boÃ®te Ã  moustaches permet de visualiser la dispersion d'une variable numÃ©rique et d'identifier d'Ã©ventuelles valeurs aberrantes. Ici, nous allons examiner la distribution de la longueur des nageoires (`flipper_length_mm`).

```{r}
ggplot(penguins_mission, aes(x = species, y = flipper_length_mm, fill = species)) +
  geom_boxplot() +
  labs(title = "Distribution de la longueur des nageoires par espÃ¨ce",
       x = "EspÃ¨ce",
       y = "Longueur des nageoires (mm)")
```

::: callout-note
#### Exemple

Ajoutez une variable pour diffÃ©rencier les Ã®les et observez si certaines Ã®les prÃ©sentent des valeurs plus extrÃªmes.
:::

::: callout-tip
#### Exercice

Trouvez le numÃ©ro de ligne de l'observation qui semble Ãªtre une valeur aberrante dans la longueur des nageoires.
:::

::: {.callout-important title="ğŸ§‘â€ğŸ’¼ Jules â€“ Observation anormale"}
Quel est le **numÃ©ro de ligne** de lâ€™observation qui a une **nageoire de 400 mm** (valeur aberrante ajoutÃ©e exprÃ¨s) ?\
1. 1\
2. 11\
3. 42\
4. 113
:::

::: {.callout-caution collapse="true" title="âœ… RÃ©ponse de Jules"}
Lâ€™observation aberrante est **ligne 11**.\
Elle a Ã©tÃ© ajoutÃ©e exprÃ¨s pour tester ta capacitÃ© Ã  dÃ©tecter visuellement les anomalies.
:::

**Pensez Ã  gÃ©nÃ©rer votre rapport, committer vos modifications et pousser sur GitHub pour garder une trace de votre travail ! ğŸš€**

::: callout-tip
#### Exercice (optionnel)

Dans le graphique prÃ©cÃ©dent, le titre de la lÃ©gende est "species", en anglais, qui est par default le nom de la variable. Changez-le pour "EspÃ¨ce" en franÃ§ais. Vous devez trouver par vous-mÃªme comment faire cela.
:::

## Nuages de point (scatter plot)

ğŸ’¡ **Explication** : Un scatter plot (ou nuage de points) permet de visualiser la relation entre deux variables numÃ©riques. Ici, nous allons examiner la relation entre la longueur du bec (`bill_length_mm`) et la profondeur du bec (`bill_depth_mm`).

```{r}
ggplot(penguins_mission, aes(x = bill_length_mm, y = bill_depth_mm)) +
  geom_point() +
  labs(title = "Relation entre la longueur et la profondeur du bec",
       x = "Longueur du bec (mm)",
       y = "Profondeur du bec (mm)")
```

::: callout-note
#### Exemple

Ajoutez une variable de couleur pour diffÃ©rencier les Ã®les et observez si certaines Ã®les prÃ©sentent des relations diffÃ©rentes.
:::

Pour connaÃ®tre la prochaine demande de la chercheuse, voici le message que vous venez de recevoir :

```{r eval=TRUE, echo=FALSE}
consulter_taches("nuage_de_points")
```

::: callout-tip
#### Exercice

Modifiez le scatter plot pour afficher la relation souhaitÃ©e par la chercheuse. Est-ce que vous trouver qu'un point Ã  l'air bizarre? Si oui, quel est son numÃ©ro de ligne?
:::

**Pensez Ã  gÃ©nÃ©rer votre rapport, committer vos modifications et pousser sur GitHub pour garder une trace de votre travail ! ğŸš€**

# ğŸ§® Statistiques descriptives

ğŸ’¡ **Explication** : Les statistiques descriptives permettent de rÃ©sumer et comprendre rapidement un ensemble de donnÃ©es. Elles se divisent en plusieurs catÃ©gories :

-   **ğŸ“Œ Tendance centrale** : moyenne, mÃ©diane
-   **ğŸ“Œ Dispersion** : variance, Ã©cart-type, coefficient de variation
-   **ğŸ“Œ Distribution** : min, max, quartiles
-   **ğŸ“Œ AsymÃ©trie et aplatissement** : skewness et kurtosis (optionnel)

Nous allons voir comment obtenir ces statistiques en R avec `dplyr`. En utilisant la fonction `summarise` il est trÃ¨s facile de calculer des statistiques descriptives sur une variable:

```{r eval=FALSE}
penguins_mission %>%
  summarise(
    mean_bill_length = mean(bill_length_mm, na.rm = TRUE), #  moyenne
    median_bill_length = median(bill_length_mm, na.rm = TRUE), # mediane
    sd_bill_length = sd(bill_length_mm, na.rm = TRUE), # Ã©cart-type
    var_bill_length = var(bill_length_mm, na.rm = TRUE), # variance
    min_bill_length = min(bill_length_mm, na.rm = TRUE), # min
    max_bill_length = max(bill_length_mm, na.rm = TRUE), # max
    q1_bill_length = quantile(bill_length_mm, 0.25, na.rm = TRUE), # Q1
    q3_bill_length = quantile(bill_length_mm, 0.75, na.rm = TRUE) #Q3
  )
```

**ğŸ“œ Instructions laissÃ©es par la chercheuse**

Pour connaÃ®tre la premiÃ¨re demande de la chercheuse, elle viens de vous a envoyÃ© ceci :

```{r echo=FALSE}
consulter_taches("statistiques_descriptives")
```

::: callout-tip
#### Exercice

RÃ©pondez de facon prÃ©cise dans votre journal de bord Ã  la demande du Docteur AdÃ©lie.
:::

âœ… MÃ©thode rapide avec `across()` ans `dplyr`

Tu peux appliquer toutes les fonctions statistiques sur plusieurs colonnes d'un coup :

```{r eval=FALSE}
penguins_mission %>%
  group_by(species) %>%
  summarise(across(bill_length_mm, list(
    mean = mean, median = median, sd = sd, var = var, 
    min = min, max = max, q1 = ~quantile(.x, 0.25), q3 = ~quantile(.x, 0.75)
  )))


```

ğŸ’¡ Avantages :

-   Moins de rÃ©pÃ©tition de code

-   Facilement extensible Ã  plusieurs variables en changeant `bill_length_mm` par `c(bill_length_mm, flipper_length_mm)`

::: {.callout-important title="ğŸ§‘â€ğŸ’¼ Jules â€“ Valeur moyenne du ratio"}
Tu as calculÃ© `bill_ratio` plus haut avec la fonction `mutate`. Si la moyenne est 2.94 et que ton collÃ¨gue sâ€™attend Ã  3.5, que peux-tu conclure ?\
1. Le collÃ¨gue a raison, 2.94 â‰ˆ 3.5\
2. Il faut plus dâ€™Ã©chantillons\
3. Tes rÃ©sultats contredisent son hypothÃ¨se\
4. Le ratio nâ€™est pas utile
:::

::: {.callout-caution collapse="true" title="âœ… RÃ©ponse de Jules"}
Une moyenne de **2.94**, bien infÃ©rieure Ã  3.5, contredit lâ€™hypothÃ¨se du collÃ¨gue.\
Cela suggÃ¨re une diffÃ©rence, mais tu pourrais aussi comparer les distributions, par exemple avec un histogramme ou un boxplot, pour mieux visualiser les variations.
:::

## Visualisation avancÃ©e et statistiques descriptives (optionnel)

Nous allons maintenant crÃ©er un boxplot dÃ©taillÃ© qui affiche :

-   Les quartiles (Q1-Q3)
-   La mÃ©diane
-   La moyenne
-   Les valeurs extrÃªmes

::: callout-tip
#### Exercice

Parmis les stastiques prÃ©cÃ©dentes, laquelle n'est habituellement pas affichÃ©e dans une boite Ã  moustache? ğŸ¤”
:::

Avant de partir en antartique, la chercheuse vous as laissÃ© un bout de code (vraisemblablement un dÃ©but de travail qu'elle souhaitait faire);

```{r eval=TRUE}
ggplot(penguins_mission, aes(x = species, y = bill_length_mm, fill = species)) +
  geom_boxplot(alpha = 0.5) +
  stat_summary(fun = mean, geom = "point", shape = 23, size = 4, fill = "red") +
  labs(title = "Longueur du bec des pingouins par espÃ¨ce",
       x = "EspÃ¨ce",
       y = "Longueur du bec (mm)") +
  theme_minimal()
```

**ğŸ“œ Instructions laissÃ©es par la chercheuse**

Pour connaÃ®tre la tÃ¢che optionnelle de la chercheuse :

```{r echo=FALSE}
consulter_taches("Visualisation_statistiques_descriptives")
```

::: callout-tip
#### Exercice

Completer le code `ggplot2` du Dr AdÃ©lie afin de rÃ©pondre Ã  sa demande. Inclure cela dans votre journal de bord. Dites en quoi ce graphique avancÃ© peut aider Ã  comprendre mieux nos donnÃ©es.
:::

**Pensez Ã  gÃ©nÃ©rer votre rapport, committer vos modifications et pousser sur GitHub pour garder une trace de votre travail ! ğŸš€**

ğŸ¯ FÃ©licitations ! Vous avez maintenant terminer la partie 1 de cette aventure, vous pouvez allez vous reposer un peu avant la prochaine partie de cette mission! ğŸ§ğŸš€

::: {.callout-important title="ğŸ§‘â€ğŸ’¼ Jules â€“ Quand faire un commit ?"}
Ã€ quel moment devrais-tu faire un commit Git ?\
1. Une fois Ã  la toute fin du projet\
2. Ã€ chaque fois que tu ajoutes un graphique\
3. RÃ©guliÃ¨rement aprÃ¨s chaque Ã©tape importante\
4. Seulement aprÃ¨s une erreur
:::

::: {.callout-caution collapse="true" title="âœ… RÃ©ponse de Jules"}
Tu dois faire un commit **aprÃ¨s chaque Ã©tape significative** (import, filtre, graphique, analyse).\
ğŸ§  Cela assure la traÃ§abilitÃ©, et te sauvera du stress si tu dois revenir en arriÃ¨re.
:::

# ğŸ§ Le retour du Dr AdÃ©lie Fortier! (2e partie de l'aventure)

ğŸ” AprÃ¨s plusieurs semaines en Antarctique Ã  observer les manchots, notre chercheuse est de retour avec pleins de nouvelles questions en tÃªte. Elle a remarquÃ© que certaines espÃ¨ces semblaient avoir des caractÃ©ristiques bien distinctes, mais elle aimerait une analyse plus approfondie qui va l'aider a obtenir une nouvelle subvention pour son projet de recherche.

ğŸ“˜ **Rappel des livrables de la deuxiÃ¨me partie** :\
Un **rapport structurÃ© et complet** rÃ©pondant Ã  ses nouvelles demandes prÃ©cises, incluantâ€¯:

-   Des visualisations ciblÃ©es.

-   Des analyses prÃ©cises basÃ©es sur vos dÃ©couvertes antÃ©rieures.

-   Une mise en forme professionnelle (titre, lÃ©gendes, axes lisibles, cohÃ©rence graphique).

-   Un suivi rigoureux via **GitHub**, incluant plusieurs commits bien commentÃ©s.

-   Elle vous donnera une liste de tÃ¢ches claires et prÃ©cises Ã  rÃ©pondre.

> **Note**: vous devez batir vous mÃªme votre rapport quarto pour l'aider dans sa demande de subvention. Commencer par crÃ©er un nouveau rapport QMD.

Sa question principale : ğŸ‘‰ Comment les caractÃ©ristiques physiques des manchots varient-elles selon les espÃ¨ces ?

Pour lâ€™aider, vous rÃ©aliserez une analyse complÃ¨te, en mobilisant toutes les compÃ©tences acquises dans ce module.

::: callout-tip
#### ğŸ“Œ Question 1

Existe-t-il des diffÃ©rences notables entre les espÃ¨ces de manchots ?
:::

â¡ï¸ Pour y rÃ©pondre, vous devez explorer les diffÃ©rences entre les caractÃ©ristiques physiques des trois espÃ¨ces.

âœ… TÃ¢ches :

Calculez la moyenne et lâ€™Ã©cart-type des variables suivantes par espÃ¨ce :

-   Longueur du bec (`bill_length_mm`)

-   Profondeur du bec (`bill_depth_mm`)

-   Longueur des nageoires (`flipper_length_mm`)

-   Masse corporelle (`body_mass_g`)

Affichez les rÃ©sultats sous forme de tableau clair.

ğŸ’¡ Indice : Utilisez `group_by()` et `summarise()` de `dplyr` pour obtenir ces statistiques.

::: callout-tip
#### ğŸ”¬ Question 2

Peut-on identifier un indicateur de "*grandeur*" du manchot ?
:::

â¡ï¸ La chercheuse aimerait une nouvelle variable qui pourrait reprÃ©senter la taille globale dâ€™un manchot.

âœ… TÃ¢ches :

-   CrÃ©ez une nouvelle variable **`indice_grandeur`** , dÃ©finie comme la somme de :

    -   La longueur des nageoires (flipper_length_mm)

    -   La longueur du bec (bill_length_mm)

-   Ajoutez cette variable au jeu de donnÃ©es et affichez quelques valeurs pour vÃ©rifier son calcul.

ğŸ’¡ Indice : Utilisez `mutate()` pour ajouter la variable Ã  votre data.frame.

::: callout-tip
#### ğŸ”¬ Question 3

Comment ces caractÃ©ristiques sont-elles rÃ©parties entre les espÃ¨ces ?
:::

â¡ï¸ Pour mieux visualiser les diffÃ©rences entre les espÃ¨ces, la chercheuse vous demande de crÃ©er des graphiques.

âœ… TÃ¢ches :

-   Un histogramme de la longueur du bec (`bill_length_mm`) par espÃ¨ce.

-   Un nuage de points montrant la relation entre **`indice_grandeur`** et la masse corporelle (`body_mass_g`), en colorant par espÃ¨ce.

Attention, n'oubliez pas vos bonnes pratiques de visualisation.

**âœï¸ Conclusion**

-   Que remarquez-vous ?

-   Quelles sont les diffÃ©rences les plus marquantes entre les espÃ¨ces ?

**Pensez Ã  gÃ©nÃ©rer votre rapport, committer vos modifications et pousser sur GitHub pour garder une trace de votre travail ! ğŸš€**

------------------------------------------------------------------------

ğŸ¯ **Mission rÃ©ussie !** Vous avez aidÃ© le Dr AdÃ©lie Fortier Ã  analyser les donnÃ©es des manchots avec succÃ¨s ! ğŸš€
