---
title: "Module 2 - Plan d'apprentissage"
subtitle: "STT-1100 Introduction Ã  la science des donnÃ©es"
format:
  html:
    toc: true
    toc-title: Plan
    self-contained: true
    link-external-newwindow: true
#    number-sections: true
    css: [../css/base_css.css]
editor: visual
---

# Objectifs du module

Ã€ la fin de ce module, vous devriez Ãªtre capable de:

# Lectures initiales

Comme le module 2 est Ã©tallÃ© sur 2 semaines, il y a un peu plus de lecture, pour vous prÃ©parer Ã  la premiÃ¨re partie du module vous pouvez survoler les lectures et y revenir de facon plus prÃ©cise en prÃ©paration de la partie 2.

On commence par quelques chapitres dans le fameux R4DS de Hadley Wickham et Garrett Grolemund:

-   [Data visualization](https://r4ds.hadley.nz/data-visualize.html){target="_blank"}\
    *DÃ©couvrez comment utiliser `ggplot2` pour crÃ©er vos premiers graphiques. Cette introduction Ã  la visualisation de donnÃ©es vous montre comment reprÃ©senter efficacement des variables numÃ©riques et comment personnaliser vos graphiques.*

-   [Data transformation](https://r4ds.hadley.nz/data-transform.html){target="_blank"}\
    *Apprenez Ã  transformer vos jeux de donnÃ©es avec `dplyr` : filtrer, trier, crÃ©er de nouvelles colonnes et rÃ©sumer l'information. Ce chapitre pose les bases de la manipulation de donnÃ©es dans le style du tidyverse.*

-   [Exploratory Data Analysis (EDA)](https://r4ds.hadley.nz/EDA.html){target="_blank"}\
    *Explorez vos donnÃ©es pour en dÃ©gager des tendances, dÃ©tecter des valeurs extrÃªmes et formuler des hypothÃ¨ses. Ce chapitre prÃ©sente des techniques simples mais puissantes dâ€™analyse visuelle et statistique.*

-   [Tidy data (spreadsheets)](https://r4ds.hadley.nz/spreadsheets.html){target="_blank"}\
    *DÃ©couvrez comment organiser vos donnÃ©es pour les rendre exploitables. Ce chapitre aborde le concept de "donnÃ©es propres" et vous montre comment reconnaÃ®tre les structures de table communes dans des fichiers Excel ou CSV.*

### ðŸ“ Guide de style du tidyverse

-   [Bonnes pratiques de visualisation avec ggplot2 (Tidyverse Style Guide)](https://style.tidyverse.org/ggplot2.html){target="_blank"}\

### ðŸ“— Un nouveau livre de rÃ©fÃ©rence

Dans ce module, nous introduisons un second ouvrage de rÃ©fÃ©rence : **Introduction to Modern Statistics** (*par Mine Ã‡etinkaya-Rundel et Johanna Hardin*).

> Note : on abrÃ¨gera souvent par **IMS**

Ce livre, Ã©galement accessible gratuitement en ligne, propose une **approche moderne et appliquÃ©e de la statistique**. Il met lâ€™accent sur la visualisation, lâ€™intuition statistique et les bonnes pratiques en science des donnÃ©es. Il constitue un excellent complÃ©ment Ã  R4DS, notamment pour approfondir les aspects statistiques des analyses exploratoires.

-   [Introduction to Modern Statistics â€“ Chapitre 5 : Exploring numerical data](https://openintro-ims.netlify.app/explore-numerical){target="_blank"}\
    *Dans ce chapitre, vous apprendrez Ã  explorer des donnÃ©es numÃ©riques Ã  lâ€™aide dâ€™outils statistiques comme les rÃ©sumÃ©s numÃ©riques, les histogrammes, et les boxplots. Il propose une vision claire et rigoureuse de la distribution des donnÃ©es.*

# Aventure

[Aventure 2](https://sitescours.monportail.ulaval.ca/contenu/sitescours/036/03609/202509/site177541/modules1395096/module1745410/page4738255/bloccontenu5036520/Aventure%202.html?identifiant=dd4c9d572c9504b55e6d29feed9e2a8721021d50)

# DÃ©fi

Voici le dÃ©fi que vous devrez rÃ©aliser pour le **module 2**. Il est divisÃ© en deux parties :

**Partie 1** : ComplÃ©ter votre journal de bord et le soumettre sur GitHub. Dix (10) journaux de bord seront sÃ©lectionnÃ©s au hasard et feront lâ€™objet dâ€™une **Ã©valuation sommative**.

**Partie 2** : Soumettre sur GitHub le **rapport dâ€™analyse de donnÃ©es** que la Dre AdÃ©lie pourra utiliser dans le cadre de sa demande de subvention.

# 
Exercices de consolidation

Pour mettre en pratique les apprentissages de ce module, vous trouverez ciâ€‘dessous **13 exercices** couvrant lâ€™ensemble des notions du moduleÂ 2Â (`ggplot2`, `dplyr`, EDA, donnÃ©es tidy, bonnes pratiques de style et statistique descriptive faÃ§on *IMS*).\
Nous utiliserons principalement le jeu de donnÃ©es **`mpg`** prevenant de la library `ggplot2` (performances de voitures commercialisÃ©es auxÂ Ã‰tatsâ€‘Unis, 1999â€‘2008). Lorsque dâ€™autres jeux de donnÃ©es sont utilisÃ©s, ils sont prÃ©cisÃ©s dans lâ€™Ã©noncÃ©.

### Jeu de donnÃ©es `mpg` â€“ Description des variables

| Variable | Type | Description (franÃ§ais) |
|---------------|---------------|-------------------------------------------|
| `manufacturer` | facteur | Constructeur automobile (ex. *toyota*, *audi*). |
| `model` | facteur | ModÃ¨le spÃ©cifique du vÃ©hicule (ex. *corolla*, *a4*). |
| `displ` | numÃ©rique | CylindrÃ©e du moteur en litres (L). |
| `year` | entier | AnnÃ©e du modÃ¨le (1999 ou 2008). |
| `cyl` | entier | Nombre de cylindres du moteur. |
| `trans` | facteur | Type de transmission : automatique (`auto`) ou manuelle (`manual`) ; suffixe = nombre de rapports. |
| `drv` | facteur | Type de transmission finale : traction avant (`f`), propulsion (`r`) ou intÃ©grale (`4`). |
| `cty` | numÃ©rique | Consommation **ville** en miles par gallon (MPG). |
| `hwy` | numÃ©rique | Consommation **autoroute** en miles par gallon (MPG). |
| `fl` | facteur | Type de carburant : *c* (CNG), *d* (diesel), *e* (Ã©thanol), *p* (premium), *r* (rÃ©gulier). |
| `class` | facteur | CatÃ©gorie de vÃ©hicule : *compact*, *suv*, *minivan*, etc. |

> â„¹ï¸ Source : base *Fuel Economy* de lâ€™EPA, incluse dans **ggplot2** et documentÃ©e avec `?mpg`.

------------------------------------------------------------------------

## ExerciceÂ 1 â€” Premier graphique *(visualisation rapide)*

*ContexteÂ :* vous dÃ©couvrez la relation entre cylindrÃ©e (`displ`) et consommation sur autoroute (`hwy`) dans **`mpg`**. Tracez un nuage de points.

::: {.callout-tip collapse="true"}
``` r
library(tidyverse)

mpg %>% 
  ggplot(aes(displ, hwy)) +
  geom_point() +
  labs(
    title = "Consommation autoroute vs cylindrÃ©e",
    x = "CylindrÃ©e (L)",
    y = "MPG autoroute"
  )
```
:::

------------------------------------------------------------------------

## ExerciceÂ 2 â€” Ajout de couleur et thÃ¨me *(esthÃ©tique)*

*ContexteÂ :* amÃ©liorer la lisibilitÃ© du graphique prÃ©cÃ©dent en distinguant les points par **catÃ©gorie de vÃ©hicule** (`class`) et en appliquant un thÃ¨me minimaliste.

::: {.callout-tip collapse="true"}
``` r
mpg %>% 
  ggplot(aes(displ, hwy, colour = class)) +
  geom_point(alpha = 0.8, size = 2) +
  theme_minimal() +
  labs(
    title  = "Consommation selon la catÃ©gorie",
    colour = "CatÃ©gorie"
  )
```
:::

------------------------------------------------------------------------

## ExerciceÂ 3 â€” Filtrer avec `dplyr` *(extraction ciblÃ©e)*

*ContexteÂ :* la responsable marketing de **Toyota** souhaite connaÃ®tre la dispersion de ses modÃ¨les. SÃ©lectionnez uniquement les voitures *Toyota* et affichez `model`, `displ`, `hwy`.

::: {.callout-tip collapse="true"}
``` r
toyota <- mpg %>% 
  filter(manufacturer == "toyota") %>% 
  select(model, displ, hwy)

toyota
```
:::

------------------------------------------------------------------------

## ExerciceÂ 4 â€” Variable dÃ©rivÃ©e et rÃ©sumÃ© *(statistiques descriptives)*

*ContexteÂ :* on dÃ©finit une mesure dâ€™**efficacitÃ© globale** `efficiency = hwy / cty`. Calculez, par catÃ©gorie (`class`), la moyenne et lâ€™Ã©cartâ€‘type de cette nouvelle variable.

::: {.callout-tip collapse="true"}
``` r
mpg %>% 
  mutate(efficiency = hwy / cty) %>% 
  group_by(class) %>% 
  summarise(
    eff_mean = mean(efficiency, na.rm = TRUE),
    eff_sd   = sd(efficiency,  na.rm = TRUE)
  )
```
:::

------------------------------------------------------------------------

## ExerciceÂ 5 â€” Histogramme et densitÃ© *(distribution)*

*ContexteÂ :* la rÃ©partition de la cylindrÃ©e vous intrigue. Tracez lâ€™histogramme de `displ` (largeur de classeÂ 0,5Â L) et superposez la densitÃ©.

::: {.callout-tip collapse="true"}
``` r
mpg %>% 
  ggplot(aes(displ)) +
  geom_histogram(binwidth = 0.5, fill = "steelblue", colour = "white") +
  geom_density(aes(y = ..count.. * 0.5), linewidth = 1) +
  labs(x = "CylindrÃ©e (L)")
```
:::

------------------------------------------------------------------------

## ExerciceÂ 6 â€” Valeur extrÃªme *(repÃ©rage dâ€™outliers)*

*ContexteÂ :* un magazine veut savoir quel modÃ¨le possÃ¨de la **meilleure consommation autoroute**. Trouvezâ€‘le et affichez `manufacturer`, `model`, `year`, `hwy`.

::: {.callout-tip collapse="true"}
``` r
mpg %>% 
  filter(hwy == max(hwy)) %>% 
  select(manufacturer, model, year, hwy)
```
:::

------------------------------------------------------------------------

## ExerciceÂ 7 â€” Bonnes pratiques #1 *(style tidyverse)*

*ContexteÂ :* vous recevez un script bÃ¢clÃ©. RÃ©Ã©crivezâ€‘le pour quâ€™il respecte le guide de style tidyverse.

-   Tout d'abord executer le code pour voir ce que ca donne. \> C'est l'ancienne facon de faire un graphique avec `base R`.

-   Reproduisez le graphique avec `ggplot2` en respectant les bonnes pratiques de style.

``` r
plot(mpg$displ,mpg$hwy,col=as.factor(mpg$drv));title("plot")
```

::: {.callout-tip collapse="true"}
``` r
mpg %>% 
  ggplot(aes(displ, hwy, colour = drv)) +
  geom_point() +
  labs(
    title  = "Consommation autoroute vs cylindrÃ©e",
    x      = "CylindrÃ©e (L)",
    y      = "MPG autoroute",
    colour = "Transmission"
  )
```
:::

------------------------------------------------------------------------

## ExerciceÂ 8 â€” Bonnes pratiques #2 *(structure de script)*

*ContexteÂ :* crÃ©ez un fichier `analyse_mpg.R` avecÂ :

-   un enâ€‘tÃªte clair (auteur, date)â€‰;

-   chargement de `tidyverse`â€‰;

-   un pipeline qui calcule la moyenne de `hwy` par `class` et lâ€™enregistre dans `mean_hwy`.

::: {.callout-tip collapse="true"}
``` r
# analyse_mpg.R â€“ A.Â Nicosia
# DateÂ : 2025â€‘05â€‘20

library(tidyverse)

mean_hwy <- mpg %>% 
  group_by(class) %>% 
  summarise(mean_hwy = mean(hwy, na.rm = TRUE))
```
:::

------------------------------------------------------------------------

## ExerciceÂ 9 â€” DonnÃ©es Â«Â tidyÂ Â» *(pivot_longer)*

*ContexteÂ :* vous passez des ventes annuelles dâ€™un format large Ã  long pour faciliter les visualisations.

``` r
sales <- tibble(
  brand = c("A", "B"),
  sales_2023 = c(120, 95),
  sales_2024 = c(150, 110)
)
```

::: {.callout-tip collapse="true"}
``` r
sales_long <- sales %>% 
  pivot_longer(
    cols = starts_with("sales_"),
    names_to = "year",
    names_prefix = "sales_",
    values_to = "units"
  )

sales_long
```
:::

------------------------------------------------------------------------

## ExerciceÂ 10 â€” Sommaire numÃ©rique *(cinqâ€‘nombre)*

*ContexteÂ :* rÃ©sumÃ© statistique rapide du MPG en ville (`cty`).

::: {.callout-tip collapse="true"}
``` r
fivenum(mpg$cty)
# ou
summary(mpg$cty)
```
:::

------------------------------------------------------------------------

## ExerciceÂ 11 â€” Boxplot par catÃ©gorie *(comparaison de groupes)*

*ContexteÂ :* visualiser la distribution de `hwy` par `class`, classes triÃ©es par mÃ©diane dÃ©croissante.

::: {.callout-tip collapse="true"}
``` r
mpg %>% 
  ggplot(aes(reorder(class, hwy, median, na.rm = TRUE), hwy)) +
  geom_boxplot(fill = "orange") +
  coord_flip() +
  labs(
    x = "CatÃ©gorie (triÃ©e)",
    y = "MPG autoroute"
  )
```
:::

------------------------------------------------------------------------

## ExerciceÂ 12 â€” Facettes *(distribution par transmission)*

*ContexteÂ :* comparer les distributions de cylindrÃ©e (`displ`) selon le type de transmission (`drv`).

::: {.callout-tip collapse="true"}
``` r
mpg %>% 
  ggplot(aes(displ)) +
  geom_histogram(binwidth = 0.5, fill = "darkseagreen") +
  facet_wrap(~ drv, nrow = 1) +
  labs(x = "CylindrÃ©e (L)")
```
:::

------------------------------------------------------------------------

## ExerciceÂ 13 â€” Analyse statistique complÃ¨te *(inspiration IMS)*

*ContexteÂ :* comme dans le chapitreÂ 5 dâ€™*Introduction to Modern Statistics*, vous devez explorer en profondeur la variable **`hwy`**.

1.  Calculez la moyenne, lâ€™Ã©cartâ€‘type, la mÃ©diane, lâ€™IQR et le nombre dâ€™observations.
2.  CrÃ©ez un histogramme de `hwy` avec la densitÃ© superposÃ©e.
3.  Ajoutez un boxplot (horizontal) sous lâ€™histogramme.
4.  InterprÃ©tezÂ : distribution symÃ©trique ou asymÃ©triqueÂ ? valeurs extrÃªmesÂ ? que peutâ€‘on conclure sur lâ€™efficacitÃ© Ã©nergÃ©tique des voituresâ€¯?

::: {.callout-tip collapse="true"}
``` r
# 1. Statistiques
mpg %>% 
  summarise(
    n        = n(),
    mean_hwy = mean(hwy),
    sd_hwy   = sd(hwy),
    median_hwy = median(hwy),
    IQR_hwy    = IQR(hwy)
  )

# 2â€‘3. Histogramme + boxplot
library(patchwork)  # pour lâ€™assemblage (facultatif)

p1 <- mpg %>% 
  ggplot(aes(hwy)) +
  geom_histogram(binwidth = 2, fill = "steelblue", colour = "white") +
  geom_density(aes(y = ..count.. * 2), linewidth = 1) +
  labs(title = "Distribution de MPG autoroute")

p2 <- mpg %>% 
  ggplot(aes(y = hwy)) +
  geom_boxplot(fill = "orange", width = 0.4) +
  theme_void()

p1 / p2  # patchwork empile les deux graphiques
```

*InterprÃ©tationÂ :* la distribution est lÃ©gÃ¨rement asymÃ©trique Ã  droiteÂ ; quelques vÃ©hicules trÃ¨s efficaces (\>Â 40Â MPG) apparaissent comme valeurs extrÃªmes. Globalement, la mÃ©diane autour de 24Â MPG indique quâ€™une majoritÃ© de voitures reste modÃ©rÃ©ment efficace.
:::
