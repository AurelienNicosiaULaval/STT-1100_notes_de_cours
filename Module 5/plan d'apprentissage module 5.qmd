---
title: "Module 5 - Plan d'apprentissage"
subtitle: "STT-1100 Introduction Ã  la science des donnÃ©es"
format:
  html:
    toc: true
    toc-title: Plan
    self-contained: true
    link-external-newwindow: true
#    number-sections: true
    css: [../css/base_css.css]
editor: visual
---

# ğŸ¯ Objectifs du module

Ã€ la fin de ce module, vous devriez Ãªtre capable de :

- GÃ©rer et analyser des variables temporelles Ã  lâ€™aide de `lubridate`.
- Ã‰tudier la relation entre deux variables Ã  lâ€™aide de graphiques et de statistiques descriptives, notamment Ã  lâ€™aide du coefficient de corrÃ©lation.
- Calculer et interprÃ©ter la corrÃ©lation entre deux variables numÃ©riques.
- RÃ©diger un rapport dâ€™analyse exploratoire des donnÃ©es (EDA) mettant en Ã©vidence des tendances et des motifs dans les donnÃ©es.

# ğŸ“š Lectures

Dans ce module, nous allons explorer les concepts de base de l'analyse exploratoire des donnÃ©es (EDA) et de la manipulation des dates et heures. Voici quelques lectures initiales pour vous prÃ©parer :

-   [**R for Data Science â€“ EDA**](https://r4ds.hadley.nz/EDA.html){target="_blank"}\
    Ce chapitre vous introduit Ã  l'analyse exploratoire des donnÃ©es (EDA) avec le package `ggplot2`.\
    
    
-   [**R for Data Science â€“ Dates and Times**](https://r4ds.hadley.nz/datetimes.html){target="_blank"}\
    Ce chapitre vous introduit Ã  la manipulation des dates et heures avec le package `lubridate`.\
    
Vous pouvez aussi aller rÃ©viser le chapitre suivant:

-   [**R for Data Science â€“ Tidy Data**](https://r4ds.hadley.nz/tidy-data.html){target="_blank"}\
    Ce chapitre vous rappelle les principes de la structure des donnÃ©es Â« tidy Â» et comment les appliquer avec `tidyr`.\
 
Dans le libre **IMS**:

-   [**Introduction to modern statistics â€“ Applications: Explore**](https://openintro-ims.netlify.app/explore-applications ){target="_blank"}\
    Ce chapitre vous introduit aux bonnes pratiques de modÃ©lisation exploratoire des donnÃ©es.

# Aventure 

[Aventure 5](aventure/Aventure%205.qmd)

# ğŸ¯ DÃ©fi â€” Analyser les retards pour soutenir les dÃ©cisions

Dans ce dÃ©fi, vous devez remettre un **rapport professionnel** destinÃ© Ã  votre superviseure, **Dr Sofia MartÃ­nez**, afin de rÃ©pondre aux trois grandes questions stratÃ©giques posÃ©es dans lâ€™aventure. Votre rÃ´le est de fournir une analyse claire, appuyÃ©e sur des visualisations pertinentes et des interprÃ©tations rigoureuses.

## ğŸ“Œ Ce que vous devez faire

Ã€ partir des donnÃ©es fusionnÃ©es fournies (`flights_merged_2023.rds`), vous devez :

1. **Explorer les variables temporelles** (`date`, `jour_semaine`, `moment_journee`, etc.) et les prÃ©parer si besoin.
2. **RÃ©pondre aux trois grandes questions de Sofia** :
   - Quels sont les crÃ©neaux horaires Ã  Ã©viter pour rÃ©duire les retards ?
   - Dans quelle mesure la mÃ©tÃ©o est-elle responsable des retards ?
   - Les avions plus Ã¢gÃ©s sont-ils plus souvent en retard ou annulÃ©s ?
3. Pour chaque question :
   - effectuez une **analyse exploratoire** pertinente ;
   - produisez **au moins une visualisation claire** ;
   - rÃ©digez une **interprÃ©tation concise** de vos rÃ©sultats.

## âœï¸ Ce que le rapport doit contenir

Votre fichier **`rapport.qmd`** doit inclureâ€¯:

- Une courte **introduction** qui rappelle le contexte (travail Ã  JFK, rÃ´le avec Sofia, etc.).
- Une section pour chaque **question** du brief.
- Vos **analyses** (code R reproductible, tableaux ou graphes, commentaires).
- Vos **interprÃ©tations** pour faire ressortir les constats clÃ©s.
- Une **courte conclusion** qui rÃ©sume les rÃ©ponses apportÃ©es aux gestionnaires.

## ğŸš€ Mise en ligne et rendu

- Publiez le rapport sur votre dÃ©pÃ´t GitHub dans lâ€™organisation du cours.
- Assurez-vous que le fichier `.html` est bien gÃ©nÃ©rÃ© et lisible.
- Faites une derniÃ¨re relecture pour vÃ©rifier la **clartÃ©, la structure et la prÃ©sentation**.

> ğŸ§  Astuce : Mettez-vous dans la peau dâ€™unÂ·e analyste professionnelÂ·le â€” ce rapport pourrait Ãªtre prÃ©sentÃ© au comitÃ© exÃ©cutif de lâ€™aÃ©roport !

---

## ğŸ§¾ Grille dâ€™Ã©valuation (10 points)

| CritÃ¨re | Description | Points |
|--------|-------------|--------|
| **Exploration temporelle (`lubridate`)** | CrÃ©ation de variables `date`, `jour_semaine`, `moment_journee` ; bonne utilisation de `lubridate`. | 2 |
| **Analyse des crÃ©neaux horaires** | Pertinence de lâ€™analyse, qualitÃ© de la visualisation et interprÃ©tation. | 2 |
| **Analyse de la mÃ©tÃ©o** | Choix judicieux des variables mÃ©tÃ©o, test de relation avec les retards, interprÃ©tation correcte. | 2 |
| **Analyse des avions anciens** | Construction de `age_avion`, analyse correcte des retards ou annulations, interprÃ©tation pertinente. | 2 |
| **Structure et prÃ©sentation du rapport** | Rapport clair, bien structurÃ©, visuellement lisible ; visualisations bien annotÃ©es ; code commentÃ©. | 2 |

> ğŸ’¡ **Bonus** possible (max +1) pour une analyse complÃ©mentaire originale (ex. : analyse par compagnie ou distance).


# ğŸ§  Exercices de consolidation

Ces exercices vous permettront de consolider les compÃ©tences du module 5 : exploration, corrÃ©lation, visualisation, analyse bivariÃ©e. Tous les jeux de donnÃ©es utilisÃ©s sont intÃ©grÃ©s Ã  R.

## ğŸš— 1. Jeu de donnÃ©es : mtcars

Quelle est la force de la relation linÃ©aire entre la consommation (mpg) et le poids (wt) des voitures ?

::: {.callout-tip collapse=true}
```r
cor(mtcars$mpg, mtcars$wt)
# â‰ˆ -0.87 â†’ forte corrÃ©lation nÃ©gative : les voitures plus lourdes consomment plus.
```
:::

## ğŸŒ¡ï¸ 2. Jeu de donnÃ©es : airquality

 CrÃ©ez un graphique illustrant la relation entre la tempÃ©rature (Temp) et le taux dâ€™ozone (Ozone), avec une ligne de tendance.

::: {.callout-tip collapse=true}
```r
ggplot(airquality, aes(x = Temp, y = Ozone)) +
  geom_point() +
  geom_smooth(method = "lm")
```
:::

## ğŸ“† 3. Jeu de donnÃ©es : airquality

 CrÃ©ez une variable date Ã  partir de Month et Day (en supposant lâ€™annÃ©e 1973), puis ajoutez une colonne indiquant le jour de la semaine.

::: {.callout-tip collapse=true}
```r
library(lubridate)

airquality <- airquality %>%
  mutate(date = make_date(1973, Month, Day),
         jour_semaine = wday(date, label = TRUE))
```
:::

## ğŸ¦· 4. Jeu de donnÃ©es : ToothGrowth

Comparez la longueur des dents (len) selon le type de supplÃ©ment (supp) Ã  lâ€™aide dâ€™un boxplot.

::: {.callout-tip collapse=true}
```r
ggplot(ToothGrowth, aes(x = supp, y = len)) +
  geom_boxplot()
```
:::

## ğŸ’Š 5. Jeu de donnÃ©es : ToothGrowth

 Calculez la moyenne de longueur des dents pour chaque combinaison de supplÃ©ment (supp) et de dose (dose).

::: {.callout-tip collapse=true}
```r
ToothGrowth %>%
  group_by(supp, dose) %>%
  summarise(moyenne = mean(len), .groups = "drop")
```
:::

## ğŸŒ¸ 6. Jeu de donnÃ©es : iris
 Calculez la matrice de corrÃ©lation entre les variables numÃ©riques.

::: {.callout-tip collapse=true}
```r
iris %>%
  select(where(is.numeric)) %>%
  cor() %>%
  round(2)
```
:::

## ğŸ£ 7. Jeu de donnÃ©es : ChickWeight

 Tracez lâ€™Ã©volution du poids (weight) dans le temps (Time) pour un seul poussin (par exemple Chick 1).

::: {.callout-tip collapse=true}
```r
ggplot(filter(ChickWeight, Chick == 1), aes(x = Time, y = weight)) +
  geom_line()
```
:::

## ğŸ¥ 8. Jeu de donnÃ©es : ChickWeight

Quel est le poids moyen des poussins Ã  la fin de lâ€™expÃ©rience (Time = 21) pour chaque type de rÃ©gime alimentaire (Diet) ?

::: {.callout-tip collapse=true}
```r
ChickWeight %>%
  filter(Time == 21) %>%
  group_by(Diet) %>%
  summarise(moyenne = mean(weight))
```
:::

## ğŸŒ¿ 9. Jeu de donnÃ©es : iris

 Visualisez la distribution de Petal.Length Ã  lâ€™aide dâ€™un histogramme avec courbe de densitÃ© superposÃ©e.

::: {.callout-tip collapse=true}
```r
ggplot(iris, aes(x = Petal.Length)) +
  geom_histogram(aes(y = ..density..), bins = 20, fill = "lightblue") +
  geom_density(color = "blue")
```
:::

## âš™ï¸ 10. Jeu de donnÃ©es : mtcars

 Combien y a-t-il de voitures pour chaque combinaison de nombre de cylindres (cyl) et de type de transmission (am) ?

::: {.callout-tip collapse=true}
```r
mtcars %>%
  count(cyl, am)
```
:::

## ğŸ” ProblÃ¨me 1 â€” EDA mÃ©tÃ©o et ozone (jeu de donnÃ©es : airquality)

1. Visualisez la relation entre la vitesse du vent (`Wind`) et le taux dâ€™ozone (`Ozone`).
2. Calculez leur corrÃ©lation.
3. Ajoutez une variable logique `jour_chaud` qui vaut `TRUE` si la tempÃ©rature est supÃ©rieure Ã  85Â°F.
4. Comparez les taux dâ€™ozone selon `jour_chaud` avec un boxplot.

::: {.callout-tip collapse=true}
```r
ggplot(airquality, aes(x = Wind, y = Ozone)) +
  geom_point() +
  geom_smooth(method = "lm")

cor(airquality$Wind, airquality$Ozone, use = "complete.obs")

airquality <- airquality %>%
  mutate(jour_chaud = Temp > 85)

ggplot(airquality, aes(x = jour_chaud, y = Ozone)) +
  geom_boxplot()
```
:::

## ğŸ” ProblÃ¨me 2 â€” EDA florale (jeu de donnÃ©es : iris)

1. Est-ce que la variable `Sepal.Length` permet de distinguer les espÃ¨ces (`Species`) ?
2. Affichez un boxplot de `Sepal.Length` par espÃ¨ce.
3. Calculez la moyenne et lâ€™Ã©cart-type de `Sepal.Length` par espÃ¨ce.
4. Calculez la corrÃ©lation entre `Sepal.Length` et `Petal.Length`.
5. Visualisez leur relation avec un nuage de points et une ligne de tendance.

::: {.callout-tip collapse=true}
```r
ggplot(iris, aes(x = Species, y = Sepal.Length)) +
  geom_boxplot()

iris %>%
  group_by(Species) %>%
  summarise(moyenne = mean(Sepal.Length),
            ecart = sd(Sepal.Length))

cor(iris$Sepal.Length, iris$Petal.Length)

ggplot(iris, aes(x = Petal.Length, y = Sepal.Length)) +
  geom_point() +
  geom_smooth(method = "lm")
```
:::


